{
	"Id": "dafb58af7c1666f83ea13c99bdd49d182619950c",
	"body": "QHN0YXJ0dW1sCiFpbmNsdWRlIDxjNC9DNF9Db250ZXh0LnB1bWw+ICAKCidyZWYgaHR0cDovL3BsYW50dW1sLmNvbS9zdGRsaWIKIWluY2x1ZGUgPG9mZmljZS9Vc2Vycy91c2VyLnB1bWw+CiFpbmNsdWRlIDxvZmZpY2UvVXNlcnMvbW9iaWxlX3VzZXIucHVtbD4KCidMQVlPVVRfV0lUSF9MRUdFTkQKCiFkZWZpbmUgU1BSSVRFU1VSTCBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcmFiZWxlbmRhL2dpbGJhcmJhcmEtcGxhbnR1bWwtc3ByaXRlcy9yZWZzL2hlYWRzL21hc3Rlci9zcHJpdGVzCgo8JSBvU2NvcGUub1Rvb2xzLm1hcCh0ID0+IHQudHlwZSgpLmljb24oKSkuZmlsdGVyKGljID0+IGljKS5tYXAoaWMgPT4gaWMudG9Mb3dlckNhc2UoKSkuZm9yRWFjaChpYyA9PiB7JT4KIWluY2x1ZGV1cmwgU1BSSVRFU1VSTC88JT1pYyU+LnB1bWwKQWRkRXh0ZXJuYWxTeXN0ZW1UYWcoIjwlPWljJT4iLCAkc3ByaXRlPSI8JT1pYyU+IikKPCUgfSklPgoKdGl0bGUgU3lzdGVtIENvbnRleHQgRGlhZ3JhbSBmb3IgPCU9bWFpblRpdGxlJT4KClBlcnNvbih1c2VyLCBVc2VyLCAiQSB1c2VyIGluIHRoZSBsb2NhbCBzeXN0ZW0vcGxhdGZvcm0iICkKClN5c3RlbSg8JT1zY29wZSU+X3N5c3RlbSwgIkNvcmUgU3lzdGVtIiwgIlRoZSBsb2NhbCBjb3JlIHN5c3RlbS9wbGF0Zm9ybSIpClN5c3RlbSg8JT1zY29wZSU+X2FwaSwgIjwlPW1haW5UaXRsZSU+IiwgIjwlPXN1YlRpdGxlJT4iKQoKUmVsX0QodXNlciwgPCU9c2NvcGUlPl9zeXN0ZW0sICJ1c2VzIikKUmVsX0QoPCU9c2NvcGUlPl9zeXN0ZW0sIDwlPXNjb3BlJT5fYXBpLCAiTG9hZHMvU2F2ZXMiLCAiQ1JVRCIpCgoKPCUgb1Njb3BlLm9Ub29scy5mb3JFYWNoKHQgPT4geyU+ClN5c3RlbV9FeHQoIjwlPXQubmFtZSgpJT4iLCAiPCU9dC5uYW1lKCklPiIsICI8JT10LnJlbWFyaygpJT4iLCA8JWlmKHQudHlwZSgpLmljb24oKSl7JT4sICR0YWdzPSI8JT10LnR5cGUoKS5pY29uKCklPiI8JX0lPikKICAgIDwlIGxldCBkQ291bnQgPSB0LnRvb2xfTWFwcGluZ3MoKS5jb25jYXQodC50eXBlKCkudHlwZV9NYXBwaW5ncygpKS5yZWR1Y2UoKHM9MCx2KSA9PiBzICsgKHR5cGVvZih2LmluU2NyaXB0KCkpPT09J3N0cmluZyc/LTE6KHR5cGVvZih2Lm91dFNjcmlwdCgpKT09PSdzdHJpbmcnPzE6MCkpLCAwKTsKICAgICAgICBpZihkQ291bnQ8MCl7JT4KUmVsKCI8JT10Lm5hbWUoKSU+IiwgPCU9c2NvcGUlPl9hcGksICIiLCAiIikKICAgICAgICA8JSB9ZWxzZXsgJT4KPCVpZihkQ291bnQ9PTApeyU+Qmk8JX0lPlJlbCg8JT1zY29wZSU+X2FwaSwgIjwlPXQubmFtZSgpJT4iLCAiIiwgIiIpCiAgICAgICAgPCV9JT4KPCV9KSU+CgpTSE9XX0xFR0VORCgpCgpAZW5kdW1s",
	"footer": "",
	"name": "C4-L0",
	"script": "d2luZG93LlRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBfRnJFTUQuUGxhbnRVTUxUZW1wbGF0ZSB7fQ==",
	"title": "",
	"Script": "window.Template = class extends _FrEMD.PlantUMLTemplate {}",
	"Body": "@startuml!include < c4 / C4_Context.puml >

		'ref http://plantuml.com/stdlib!include < office / Users / user.puml >
		!include < office / Users / mobile_user.puml >

		'LAYOUT_WITH_LEGEND

		!define SPRITESURL https: //raw.githubusercontent.com/rabelenda/gilbarbara-plantuml-sprites/refs/heads/master/sprites

		<
		% oScope.oTools.map(t => t.type().icon()).filter(ic => ic).map(ic => ic.toLowerCase()).forEach(ic => {
			% >
			!includeurl SPRITESURL / < %= ic % > .puml
			AddExternalSystemTag("<%=ic%>", $sprite = "<%=ic%>") <
				%
		}) % >

		title System Context Diagram
	for < %= mainTitle % >

	Person(user, User, "A user in the local system/platform")

	System( < %= scope % > _system, "Core System", "The local core system/platform")
	System( < %= scope % > _api, "<%=mainTitle%>", "<%=subTitle%>")

	Rel_D(user, < %= scope % > _system, "uses")
	Rel_D( < %= scope % > _system, < %= scope % > _api, "Loads/Saves", "CRUD")

	<
	% oScope.oTools.forEach(t => {
		% >
		System_Ext("<%=t.name()%>", "<%=t.name()%>", "<%=t.remark()%>", < %
				if (t.type().icon()) {
					% > , $tags = "<%=t.type().icon()%>" < %
				} % > ) <
			%
			let dCount = t.tool_Mappings().concat(t.type().type_Mappings()).reduce((s = 0, v) => s + (typeof(v.inScript()) === 'string' ? -1 : (typeof(v.outScript()) === 'string' ? 1 : 0)), 0);
		if (dCount < 0) {
			% >
			Rel("<%=t.name()%>", < %= scope % > _api, "", "") <
				%
		} else {
			% >
			<
			%
			if (dCount == 0) {
				% > Bi < %
			} % > Rel( < %= scope % > _api, "<%=t.name()%>", "", "") <
				%
		} % >
		<
		%
	}) % >

	SHOW_LEGEND()

	@enduml ","
	__keys ": ["
	name "],"
	active ": true,"
	__trMap ": []}