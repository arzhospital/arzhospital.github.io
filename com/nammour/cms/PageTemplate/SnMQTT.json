{
	"Id": "88ccec3227af6c9a195533c25883046894ae2804",
	"body": "Ww0KPCUNCiAgICByYW5rKG9TY29wZS5FbnRpdHlDbGFzc2VzKS5mb3JFYWNoKGMgPT4gew0KICAgIGxldCBsb2cgPSAocywgbXNnKSA9PiB7DQogICAgICAgIGxldCByZXQgPSBgZ3MuaW5mbygiJHtuTmFtZShjKX0uJHttTmFtZX0oKTogImA7DQogICAgICAgIA0KICAgICAgICBpZihtc2cpew0KICAgICAgICAgICAgcmV0ICs9IGArICIke21zZ30gImA7DQogICAgICAgIH0NCiAgICAgICAgaWYocyl7DQogICAgICAgICAgICByZXQgKz0gYCsgIiR7c306ICIgKyBKU09OLnN0cmluZ2lmeSgke3N9LCBudWxsLCA0KWA7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmKHMgfHwgbXNnKXsNCiAgICAgICAgICAgIHJldCArPSAnKTsnOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHJldCArPSAnICsgJzsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgcmV0dXJuIHJldDsNCiAgICB9Ow0KICAgIA0KbGV0IGlkRmllbGQgPSByID0+IGAoKGZ1bmN0aW9uKHIpew0KICAgIGxldCByZXQgPSAnc3lzX2lkJzsNCiAgICBpZih0eXBlb2Yoci5fX2lkRmllbGQpPT09J2Z1bmN0aW9uJyl7DQogICAgICAgIHJldCA9IHIuX19pZEZpZWxkKCk7DQogICAgfWVsc2UgaWYodHlwZW9mKHJbci5fX2lkRmllbGQgfHwgKHR5cGVvZih0aGlzLl9faWRGaWVsZCk9PT0nZnVuY3Rpb24nP3RoaXMuX19pZEZpZWxkKCk6dW5kZWZpbmVkKV0pIT09J3VuZGVmaW5lZCcpew0KICAgICAgICByZXQgPSByLl9faWRGaWVsZCB8fCB0aGlzLl9faWRGaWVsZCgpOw0KICAgIH1lbHNlIGlmKHR5cGVvZihyLklkKSE9PSd1bmRlZmluZWQnKXsNCiAgICAgICAgcmV0ID0gJ0lkJzsNCiAgICB9ZWxzZSBpZih0eXBlb2Yoci5zeXNfbW9kX2NvdW50KSE9PSd1bmRlZmluZWQnKXsNCiAgICAgICAgcmV0ID0gJ3N5c19pZCc7DQogICAgfQ0KICAgIHJldHVybiByZXQ7DQp9KSgke3IgfHwgJ3RoaXMnfSkpYDsNCg0KbGV0IGlkID0gciA9PiBgKChmdW5jdGlvbihyLCBmKXsNCiAgICBpZih0eXBlb2Yocik9PT0nb2JqZWN0JyAmJiByKXsNCiAgICAgICAgaWYodHlwZW9mKHIuX3RvRG9jdW1lbnQpPT09J2Z1bmN0aW9uJyAmJiB0eXBlb2YocltmXSk9PT0nZnVuY3Rpb24nKXsNCiAgICAgICAgICAgIHJldHVybiByLl90b0RvY3VtZW50KClbZl07DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gcltmXTsNCiAgICB9DQoNCiAgICByZXR1cm4gbnVsbDsNCn0pKCR7ciB8fCAndGhpcyd9LCAke2lkRmllbGQociB8fCAndGhpcycpfSkpYDsNCg0KbGV0IF9jTmFtZSA9IChjbj1jLk5hbWUsIGJBbGlhcykgPT4gew0KICAgIGlmKGNuLk5hbWUpIGNuID0gY24uTmFtZTsNCiAgICBsZXQgX2MgPSBvU2NvcGUuRW50aXR5Q2xhc3Nlcy5maW5kKGVjID0+IGVjLk5hbWU9PWNuKTsNCiAgICBpZighX2MpIHJldHVybiAnJzsNCiAgICByZXR1cm4gbk5hbWUoX2MsIGJBbGlhcyk7DQp9Ow0KDQpsZXQgdGFibGUgPSAiJyIgKyBfbmV3KGMuTmFtZSwgJ1NOT1dPT0InKS5fbkNvZGUoKSArICInIjsNCmxldCBmaWVsZHMgPSAiT2JqZWN0LmtleXMoZ2xvYmFsLlNjaGVtYS5vZigiICsgdGFibGUgKyAiLCBbJyonXSlbIiArIHRhYmxlICsgIl0pIjsNCmxldCBhbGlhcyA9IChjbiwgaj0nXycpID0+IChzY29wZSArICcuJyArIF9jTmFtZShjbiwgdHJ1ZSkucmVwbGFjZShfY05hbWUoY24pLCAnJykpLnNwbGl0KCcuJykuZmlsdGVyKG4gPT4gbikuam9pbihqKTsNCmxldCBfc3VwZXIgPSAoLi4uYXJncykgPT4gYy5FeHRlbmRzP2AvKiR7YWxpYXMoKX1fJHtuTmFtZShjLkV4dGVuZHMpfS5wcm90b3R5cGUuJHttTmFtZX0uY2FsbCh0aGlzLCAqL3N1cGVyJHttTmFtZT09J2NvbnN0cnVjdG9yJz8nJzooJy4nK21OYW1lKX0oJHthcmdzLmpvaW4oJywnKX0pYDondW5kZWZpbmVkJzsNCmxldCBfdkNvZGUgPSBrID0+IHslPig8JXZhbHVlT2Yoay5Db2RlKSU+IHx8ICgiPCU9bkNvZGUoayklPiIpKTwlfTsNCmxldCBmdW5jdGlvbk9mID0gKGZ1biwgX3RoaXM9J3RoaXMnKSA9PiB7JT4NCiAgICAgICAgbGV0IF9fcmV0ID0gdW5kZWZpbmVkOw0KICAgIDwlIGlmKGZ1bil7JT4NCiAgICAgICAgPCUgaWYodHlwZW9mKGZ1bik9PT0nb2JqZWN0Jyl7JT4NCiAgICAgICAgICAgICAgICA8JSBpZih0eXBlb2YoZnVuLlNlcnZpY2VOb3cpPT09J2Z1bmN0aW9uJyl7JT4NCiAgICAgICAgICAgIF9fcmV0ID0gPCU9ZnVuLlNlcnZpY2VOb3cudG9TdHJpbmcoKS5yZXBsYWNlKC9cYC9nLCAnXFxcYCcpJT47DQogICAgICAgICAgICAgICAgPCUgfWVsc2UgaWYoIWZ1bi5TZXJ2aWNlTm93IHx8IGZ1bi5TZXJ2aWNlTm93LmluZGV4T2YoIjw8Iik9PS0xKXslPg0KICAgICAgICAgICAgX19yZXQgPSA8JT0oSlNPTi5zdHJpbmdpZnkoZnVuLlNlcnZpY2VOb3cpIHx8ICciIicpJT47DQogICAgICAgICAgICAgICAgPCUgfSU+DQogICAgICAgIDwlIH1lbHNleyU+DQogICAgICAgICAgICBfX3JldCA9IDwlPWZ1biU+Ow0KICAgICAgICA8JSB9JT4NCiAgICA8JSB9JT4NCiAgICAgICAgaWYodHlwZW9mKF9fcmV0KT09PSdzdHJpbmcnICYmIF9fcmV0LnN0YXJ0c1dpdGgoInMoIikgJiYgX19yZXQuZW5kc1dpdGgoIikiKSl7DQogICAgICAgICAgICBfX3JldCA9IHRoaXMucnVuU2NyaXB0KF9fcmV0LnNsaWNlKDIsLTEpKTsNCiAgICAgICAgfQ0KICAgICAgICBpZih0eXBlb2YoX19yZXQpPT09ImZ1bmN0aW9uIil7DQogICAgICAgICAgICBfX3JldCA9IF9fcmV0KDwlPV90aGlzJT4pOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICByZXR1cm4gX19yZXQ7DQo8JX07DQoNCmxldCB2YWx1ZU9mID0gKGZ1biwgX3RoaXM9J3RoaXMnKSA9PiB7JT4oKA0KZnVuY3Rpb24oKXsNCiAgICB0cnl7DQo8JWZ1bmN0aW9uT2YoZnVuLCBfdGhpcyklPg0KICAgIH1jYXRjaChfdk9mRXgpew0KICAgICAgICA8JT1sb2coKSU+J3ZhbHVlT2YnLCBfdk9mRXgsIDwlPV9GckVNRC5fdG9KUyhmdW4pLnJlcGxhY2UoL1xgL2csICdcXFxgJyklPik7DQogICAgfQ0KfQ0KKSgpKTwlfTsNCg0KICAgICU+DQoNCnsNCiAgICAvL3N5c19pZDogX0ZyRU1ELl91dWlkKCI8JT1jbmYoYywgJ3Njb3BlJyklPi48JT1hbGlhcygpJT5fPCU9bk5hbWUoYyklPiIpLA0KICAgIGFjdGl2ZTogdHJ1ZSwNCiAgICBzeXNfbmFtZTogIjwlPWFsaWFzKCklPl88JT1uTmFtZShjKSU+IiwNCiAgICBhcGlfbmFtZTogIjwlPWNuZihjLCAnc2NvcGUnKSU+LjwlPWFsaWFzKCklPl88JT1uTmFtZShjKSU+IiwNCiAgICBuYW1lOiAiPCU9YWxpYXMoKSU+XzwlPW5OYW1lKGMpJT4iLA0KICAgIHNjcmlwdDogX0ZyRU1ELl9iZWF1dGlmeShgDQoNCiAgICBjbGFzcyA8JT1hbGlhcygpJT5fPCU9bk5hbWUoYyklPjwlaWYoYy5FeHRlbmRzKXslPiBleHRlbmRzIDwlPWFsaWFzKCklPl88JT1uTmFtZShjLkV4dGVuZHMpJT48JX0lPnsNCiAgICAgICAgPCU9bU5hbWU9J2NvbnN0cnVjdG9yJyU+KGlkKXsNCiAgICAgICAgICAgIDwlPV9zdXBlcignaWQnKSU+DQogICAgICAgICAgICB0aGlzLklkID0gaWQ7DQogICAgICAgICAgICB0aGlzLl9fbW9kdWxlID0gIjwlPWMuRW50aXR5TW9kdWxlP2MuRW50aXR5TW9kdWxlLk5hbWU6JyclPiI7DQogICAgICAgICAgICB0aGlzLl9fdHlwZSA9ICI8JT1hbGlhcygpJT5fPCU9bk5hbWUoYyklPiI7DQogICAgICAgICAgICB0aGlzLl9fYWxpYXMgPSAiPCU9YWxpYXMoKSU+IjsNCiAgICAgICAgICAgIHRoaXMuX19zY29wZSA9ICI8JT1zY29wZSU+IjsNCiAgICAgICAgfQ0KDQogICAgPCUgYy5FbnRpdHlBdHRyaWJ1dGVzLmZpbHRlcihlYSA9PiAhZWEuRW50aXR5TWV0aG9kKS5mb3JFYWNoKGVhID0+IHslPg0KICAgICAgICAvKioqKioqKioqKioqKiA8JT1uTmFtZShjKSU+LjwlPW5OYW1lKGVhKSU+IEdFVFRFUlMgQU5EIFNFVFRFUlMgKioqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgICAgPCU9bU5hbWU9bk5hbWUoZWEpJT4odiwgY29vcCl7DQogICAgICAgICAgICBpZih0eXBlb2YodikhPT0ndW5kZWZpbmVkJyl7DQoNCiAgICAgICAgPCUgaWYoZWEuSXNEYXRlKXslPg0KICAgICAgICAgICAgICAgIGlmKHYpIHYgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikgPT09ICdbb2JqZWN0IERhdGVdJz92OihuZXcgRGF0ZSh2KSk7DQogICAgICAgICAgICAgICAgaWYodiAmJiBpc05hTih2LmdldFRpbWUoKSkpIHYgPSBudWxsOw0KICAgICAgICAgICAgICAgIC8vPCU9bG9nKCd0eXBlb2YodiknKSU+DQogICAgICAgIDwlIH0lPg0KICAgICAgICAgICAgICAgIHRoaXMuXzwlPW5OYW1lKGVhKSU+ID0gdjsNCiAgICAgICAgICAgICAgICB0aGlzLl88JT1uTmFtZShlYSklPl9jb29wID0gY29vcDsNCiAgICAgICAgDQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fPCU9bk5hbWUoZWEpJT47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICA8JSB9KSU+DQoNCiAgICA8JSBjLlR5cGVkQXR0cmlidXRlcy5mb3JFYWNoKHRhID0+IHsgbGV0IHRhTmFtZSA9IG5OYW1lKHRhKSArICdfJyArIHRhLkVudGl0eUNsYXNzLlBsdXJhbC5yZXBsYWNlKC8gL2csICdfJyk7JT4NCiAgICAgICAgLyoqKioqKioqKioqKiogPCU9bk5hbWUoYyklPi48JT10YU5hbWUlPiBHRVRURVJTIEFORCBTRVRURVJTICoqKioqKioqKioqKioqKioqKioqKiovDQogICAgICAgIDwlPW1OYW1lPXRhTmFtZSU+KHYsIGNvb3Apew0KICAgICAgICAgICAgaWYodHlwZW9mKHYpIT09J3VuZGVmaW5lZCcpew0KICAgICAgICAgICAgICAgIHRoaXMuXzwlPXRhTmFtZSU+ID0gIUFycmF5LmlzQXJyYXkodik/W3ZdOnY7DQogICAgICAgICAgICAgICAgdGhpcy5fPCU9dGFOYW1lJT5fY29vcCA9IGNvb3A7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fPCU9dGFOYW1lJT47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICA8JSB9KSU+DQoNCiAgICA8JSBjLkVudGl0eUZpZWxkcy5mb3JFYWNoKGVmID0+IHslPg0KICAgICAgICAvKioqKioqKioqKioqKiA8JT1uTmFtZShjKSU+LjwlPW5Db2RlKGVmKSU+IEVGOiBHRVRURVJTIEFORCBTRVRURVJTICoqKioqKioqKioqKioqKioqKioqKiovDQogICAgICAgIDwlPW1OYW1lPW5Db2RlKGVmKSU+KCl7DQogICAgICAgICAgICByZXR1cm4gLyp0aGlzLmVmXzwlPW5Db2RlKGVmKSU+ID0gKi88JXZhbHVlT2YoZWYuVmFsdWUpJT47DQogICAgICAgIH0NCiAgICA8JSB9KSU+DQogICAgDQogICAgICAgIDwlPW1OYW1lPSdfaW52b2tlJyU+KG1ldGhvZCwgcGF5bG9hZCl7DQogICAgICAgICAgICBpZighbWV0aG9kKSByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgIGlmKHR5cGVvZihwYXlsb2FkKT09PSdzdHJpbmcnKSByZXR1cm4gdGhpcy48JT1tTmFtZSU+KG1ldGhvZCwgSlNPTi5wYXJzZShwYXlsb2FkKSk7DQogICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KHBheWxvYWQpKSByZXR1cm4gcGF5bG9hZC5tYXAocCA9PiB0aGlzLjwlPW1OYW1lJT4obWV0aG9kLCBwKSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIDwlPWxvZygnbWV0aG9kJyklPg0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLl9mcm9tRG9jdW1lbnQocGF5bG9hZCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHN3aXRjaChtZXRob2Qpew0KICAgIDwlIGNydWRNZXRob2RzKGMsICdTTk9XJykuY29uY2F0KGMuRW50aXR5TWV0aG9kcykuZmlsdGVyKG0gPT4gIW0uSXNQcml2YXRlKS5mb3JFYWNoKG0gPT4geyU+DQogICAgICAgICAgICAgICAgY2FzZSAiPCU9bk5hbWUobSklPiI6IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuPCU9bk5hbWUobSklPig8JSBtLk1ldGhvZFBhcmFtZXRlcnMuZm9yRWFjaChtcCA9PiB7JT5wYXlsb2FkWyI8JT1uTmFtZShtcCklPiJdLDwlIH0pJT4pOw0KICAgICAgICAgICAgICAgIH0NCiAgICA8JSB9KSU+DQogICAgICAgICAgICAgICAgZGVmYXVsdDogew0KICAgICAgICAgICAgICAgICAgICA8JT1sb2coKSU+ImludmFsaWQgbWV0aG9kICIgKyBtZXRob2QpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgPCU9bU5hbWU9J190b0VRdWVyeSclPihzUGF0aCl7DQogICAgICAgICAgICBzUGF0aCA9IHNQYXRoIHx8ICcnOw0KICAgICAgICAgICAgbGV0IHJldCA9IDwlPV9zdXBlcignc1BhdGgnKSU+IHx8ICcnOw0KICAgICAgICAgICAgDQogICAgPCUgYy5FbnRpdHlBdHRyaWJ1dGVzLmZpbHRlcihlYSA9PiAhZWEuRW50aXR5TWV0aG9kICYmICFlYS5FbnRpdHlUeXBlKS5mb3JFYWNoKGVhID0+IHslPg0KICAgICAgICAgICAgaWYodGhpcy5fPCU9bk5hbWUoZWEpJT4pIHJldCArPSAnXicgKyBzUGF0aCArICc8JT1uQ29kZShlYSklPicgKyAodGhpcy5fPCU9bk5hbWUoZWEpJT5fY29vcCB8fCAnPScpICsgdGhpcy48JT1uTmFtZShlYSklPigpOw0KICAgIDwlIH0pJT4NCg0KICAgIDwlIGMuRW50aXR5QXR0cmlidXRlcy5maWx0ZXIoZWEgPT4gIWVhLkVudGl0eU1ldGhvZCAmJiBlYS5FbnRpdHlUeXBlKS5mb3JFYWNoKGVhID0+IHslPg0KICAgICAgICAgICAgaWYodGhpcy5fPCU9bk5hbWUoZWEpJT4pIHJldCArPSAvKih0aGlzLl88JT1uTmFtZShlYSklPl9jb29wIHx8ICc9JykgKyAqLyB0aGlzLjwlPW5OYW1lKGVhKSU+KCkuPCU9bU5hbWUlPihzUGF0aCArICc8JT1uQ29kZShlYSklPi4nKTsNCiAgICA8JSB9KSU+DQoNCiAgICA8JSBjLlR5cGVkQXR0cmlidXRlcy5mb3JFYWNoKHRhID0+IHsgbGV0IHRhTmFtZSA9IG5OYW1lKHRhKSArICdfJyArIHRhLkVudGl0eUNsYXNzLlBsdXJhbC5yZXBsYWNlKC8gL2csICdfJyk7JT4NCiAgICAgICAgICAgICh0aGlzLjwlPXRhTmFtZSU+KCkgfHwgW10pLmZvckVhY2goZnVuY3Rpb24odGEpeyByZXQgKz0gJ15STFFVRVJZPCU9bkNvZGUodGEuRW50aXR5Q2xhc3MpJT4uPCU9bkNvZGUodGEpJT4sPj0xJyArIHRhLjwlPW1OYW1lJT4oKSArICdeRU5EUkxRVUVSWSc7IH0pOw0KICAgIDwlIH0pJT4NCiAgICANCiAgICAgICAgICAgIDwlPWxvZygncmV0JyklPg0KICAgICAgICAgICAgcmV0dXJuIHJldDsNCiAgICAgICAgfQ0KDQogICAgICAgIDwlPW1OYW1lPSdfZnJvbURvY3VtZW50JyU+KG9iail7DQogICAgICAgICAgICBpZighb2JqKSByZXR1cm4gdGhpczsNCiAgICAgICAgDQogICAgICAgICAgICA8JT1fc3VwZXIoJ29iaicpJT4NCiAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIDwlIC8qU3RyZWFtLCBvbmNlIG1hcHBlZCwgYmVjb21lcyBlbXB0eS4gSXQgY2Fubm90IGJlIGVtcHRpZWQgdHdpY2UsIHRoaXMgYW5kIHN1cGVyLiBmb3JFYWNoIGlzIGEgdGVybWluYWwgZnVuY3Rpb24gKi8gJT4NCiAgICAgICAgICAgIGlmKHR5cGVvZihvYmouaXNWYWxpZFJlY29yZCkhPT0nZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lPT0iU3RyZWFtIil7DQogICAgICAgICAgICAgICAgbGV0IHJldCA9IFtdOw0KICAgICAgICAgICAgICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uKG8peyByZXQucHVzaChuZXcgPCU9YU5hbWUoYyklPigpLjwlPW1OYW1lJT4obykpOyB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZih0eXBlb2Yob2JqKT09PSdzdHJpbmcnKXsNCiAgICAgICAgICAgICAgICB0cnl7DQogICAgICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2Uob2JqKTsNCiAgICAgICAgICAgICAgICB9Y2F0Y2goZXgpew0KICAgICAgICAgICAgICAgICAgICAvKjwlPWxvZygpJT4ic3RyaW5nIFsiK29iaisiXSBpbnRvICIgKyA8JT1pZEZpZWxkKCklPik7Ki8NCiAgICAgICAgICAgICAgICAgICAgbGV0IF9vYmogPSB7X19pZEZpZWxkOiA8JT1pZEZpZWxkKCklPn07DQogICAgICAgICAgICAgICAgICAgIF9vYmpbPCU9aWRGaWVsZCgpJT5dID0gb2JqOw0KICAgICAgICAgICAgICAgICAgICBvYmogPSBfb2JqOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy48JT1tTmFtZSU+KG9iaik7DQogICAgICAgICAgICB9ZWxzZSBpZih0eXBlb2Yob2JqKT09PSdvYmplY3QnKXsNCiAgICAgICAgICAgICAgICBpZih0eXBlb2Yob2JqLmlzVmFsaWRSZWNvcmQpPT09J2Z1bmN0aW9uJyl7DQogICAgICAgICAgICAgICAgICAgIGlmKG9iai5pc1ZhbGlkUmVjb3JkKCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuPCU9bU5hbWUlPih7DQogICAgPCUgYy5FbnRpdHlBdHRyaWJ1dGVzLmZpbHRlcihlYSA9PiAhZWEuRW50aXR5TWV0aG9kKS5mb3JFYWNoKGVhID0+IHslPg0KICAgICAgICAgICAgICAgICAgICAgICAgPCU9bkNvZGUoZWEpJT46IG9iai5nZXRWYWx1ZSgiPCU9bkNvZGUoZWEpJT4iKSwNCiAgICA8JSB9KSU+DQogICAgICAgICAgICAgICAgICAgICAgICBJZDogb2JqLmdldFZhbHVlKCdzeXNfaWQnKX0pOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5xdWVyeSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyUmV0ID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShvYmoubmV4dCgpKSBnclJldC5wdXNoKHRoaXMuPCU9bU5hbWUlPihvYmopKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8qPCU9bG9nKCdnclJldCcsICdnbGlkZSBvYmplY3RzJyklPiovDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ3JSZXQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihvYmouX2Zyb21Eb2N1bWVudCl7DQogICAgICAgICAgICAgICAgICAgIDwlPWxvZygpJT4icmVkdW5kZW50IGNhbGwiKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZihBcnJheS5pc0FycmF5KG9iaikpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gbmV3IDwlPWFOYW1lKGMpJT4oKS48JT1tTmFtZSU+KG8pfSk7DQogICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZW9mKG9iai5jb25zdHJ1Y3Rvcik9PT0iZnVuY3Rpb24iKXsNCiAgICAgICAgICAgICAgICAgICAgaWYob2JqLmNvbnN0cnVjdG9yLm5hbWU9PSJPYmplY3QiKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5JZCA9IDwlPWlkKCdvYmonKSU+Ow0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAvKjwlPWxvZygnb2JqJyklPiovDQogICAgICAgICAgICANCiAgICA8JSBjLkVudGl0eUF0dHJpYnV0ZXMuZmlsdGVyKGVhID0+ICFlYS5FbnRpdHlNZXRob2QpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Yob2JqLjwlPW5Db2RlKGVhKSU+KSE9PSd1bmRlZmluZWQnKXsNCiAgICAgICAgPCUgaWYoZWEuSXNUZXh0KXslPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuPCU9bk5hbWUoZWEpJT4oU3RyaW5nKChncy5nZXRDdXJyZW50U2NvcGVOYW1lKCk9PSdyaGluby5nbG9iYWwnP0dsaWRlU3RyaW5nVXRpbDpncykuYmFzZTY0RGVjb2RlKG9iai48JT1uQ29kZShlYSklPikpKTsNCiAgICAgICAgPCUgfSU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy48JT1uTmFtZShlYSklPig8JWlmKGVhLkVudGl0eVR5cGUpeyU+bmV3IDwlPWFOYW1lKGVhLkVudGl0eVR5cGUpJT4oKS48JT1tTmFtZSU+KG9iai48JT1uQ29kZShlYSklPik8JX1lbHNleyU+b2JqLjwlPW5Db2RlKGVhKSU+PCV9JT4pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgIDwlIH0pJT4NCg0KICAgIDwlIGMuVHlwZWRBdHRyaWJ1dGVzLmZvckVhY2godGEgPT4geyBsZXQgdGFOYW1lID0gbk5hbWUodGEpICsgJ18nICsgdGEuRW50aXR5Q2xhc3MuUGx1cmFsLnJlcGxhY2UoLyAvZywgJ18nKTslPg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mKG9iai48JT10YU5hbWUlPikhPT0ndW5kZWZpbmVkJykgdGhpcy48JT10YU5hbWUlPihuZXcgPCU9YU5hbWUodGEuRW50aXR5Q2xhc3MpJT4oKS48JT1tTmFtZSU+KG9iai48JT10YU5hbWUlPikpOw0KICAgIDwlIH0pJT4NCg0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvLyBpZihvYmouY29uc3RydWN0b3IubmFtZT09IjwlPW5OYW1lKGMpJT4iKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIDwlPWxvZygpJT4idW5rbm93biBvYmplY3QgY29uc3RydWN0b3I6ICIgKyBvYmouY29uc3RydWN0b3IubmFtZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgPCU9bG9nKCdvYmonLCAndW5rbm93biBvYmplY3QnKSU+DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIDwlPWxvZygndHlwZW9mKG9iaiknLCAnaW52YWxpZCBvYmplY3QnKSU+DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8qPCU9bG9nKCd0aGlzLklkJywgJ0lkJyklPiovDQogICAgICAgICAgICAvKjwlPWxvZygndGhpcycpJT4qLw0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0NCg0KICAgICAgICA8JT1tTmFtZT0nX25ldyclPihjKXsNCiAgICAgICAgICAgIGlmKCFjKSBjID0gdGhpcy5fX3R5cGU7DQogICAgICAgICAgICBpZihjLmluZGV4T2YoJzwlPWFsaWFzKCklPl8nKSE9MCkgYyA9ICh7PCUgb1Njb3BlLkVudGl0eUNsYXNzZXMuZm9yRWFjaChfYyA9PiB7JT48JT1uTmFtZShfYyklPjogIjwlPWFOYW1lKF9jKSU+Iiw8JX0pJT59KVtjXTsNCiAgICAgICAgICAgIHJldHVybiBuZXcgKGdzLmdldEN1cnJlbnRTY29wZU5hbWUoKT09J3JoaW5vLmdsb2JhbCc/Z2xvYmFsOjwlPWNuZihjLCAnc2NvcGUnKSU+KVtjXSgpOw0KICAgICAgICB9DQoNCg0KICAgICAgICA8JT1tTmFtZT0nX3RvRG9jdW1lbnQnJT4oYXJGaWVsZHMpew0KICAgICAgICANCiAgICAgICAgICAgIGxldCByZXQgPSA8JT1fc3VwZXIoJ2FyRmllbGRzJyklPiB8fCB7fTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYodHlwZW9mKHRoaXMuSWQpIT09J3VuZGVmaW5lZCcpIHJldC5zeXNfaWQgPSB0aGlzLklkOw0KDQogICAgPCUgYy5FbnRpdHlBdHRyaWJ1dGVzLmZpbHRlcihlYSA9PiAhZWEuRW50aXR5TWV0aG9kKS5mb3JFYWNoKGVhID0+IHslPg0KICAgICAgICAgICAgaWYodHlwZW9mKHRoaXMuXzwlPW5OYW1lKGVhKSU+KSE9PSd1bmRlZmluZWQnKXsNCiAgICAgICAgICAgICAgICByZXQuPCU9bkNvZGUoZWEpJT4gPSB0aGlzLjwlPW5OYW1lKGVhKSU+KCk7DQogICAgICAgIDwlIGlmKGVhLkVudGl0eVR5cGUpeyU+DQogICAgICAgICAgICAgICAgaWYocmV0LjwlPW5Db2RlKGVhKSU+KXsNCiAgICAgICAgICAgICAgICAgICAgcmV0LjwlPW5Db2RlKGVhKSU+ID0gcmV0LjwlPW5Db2RlKGVhKSU+LjwlPW1OYW1lJT4oKTsNCiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mKHJldC48JT1uQ29kZShlYSklPik9PT0nb2JqZWN0JyAmJiAhT2JqZWN0LmtleXMocmV0LjwlPW5Db2RlKGVhKSU+KS5sZW5ndGgpIHJldC48JT1uQ29kZShlYSklPiA9IG51bGw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICA8JSB9ZWxzZSBpZihlYS5Jc1RleHQpeyU+DQogICAgICAgICAgICAgICAgaWYodHlwZW9mKHJldC48JT1uQ29kZShlYSklPik9PT0nb2JqZWN0JykgcmV0LjwlPW5Db2RlKGVhKSU+ID0gKGdzLmdldEN1cnJlbnRTY29wZU5hbWUoKT09J3JoaW5vLmdsb2JhbCc/R2xpZGVTdHJpbmdVdGlsOmdzKS5iYXNlNjRFbmNvZGUoSlNPTi5zdHJpbmdpZnkocmV0LjwlPW5Db2RlKGVhKSU+KSk7DQogICAgICAgIDwlIH1lbHNlIGlmKGVhLklzRGF0ZSl7JT4NCiAgICAgICAgICAgICAgICBpZihyZXQuPCU9bkNvZGUoZWEpJT4gJiYgdHlwZW9mKHJldC48JT1uQ29kZShlYSklPi50b0lTT1N0cmluZyk9PT0nZnVuY3Rpb24nKSByZXQuPCU9bkNvZGUoZWEpJT4gPSByZXQuPCU9bkNvZGUoZWEpJT4udG9JU09TdHJpbmcoKS5yZXBsYWNlKCcuMDAwWicsICdaJyk7DQogICAgICAgIDwlIH0lPg0KICAgICAgICANCiAgICAgICAgPCUgaWYoZWEuSXNBcnJheSl7JT4NCiAgICAgICAgICAgICAgICBpZih0eXBlb2YocmV0LjwlPW5Db2RlKGVhKSU+KT09PSd1bmRlZmluZWQnKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0LjwlPW5Db2RlKGVhKSU+ID0gW107DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoIUFycmF5LmlzQXJyYXkocmV0LjwlPW5Db2RlKGVhKSU+KSl7DQogICAgICAgICAgICAgICAgICAgIHJldC48JT1uQ29kZShlYSklPiA9IHJldC48JT1uQ29kZShlYSklPj9bcmV0LjwlPW5Db2RlKGVhKSU+XTpbXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIDwlIH0lPg0KICAgICAgICAgICAgfQ0KICAgIDwlIH0pJT4NCiAgICAgICAgDQogICAgPCUgYy5UeXBlZEF0dHJpYnV0ZXMuZm9yRWFjaCh0YSA9PiB7IGxldCB0YU5hbWUgPSBuTmFtZSh0YSkgKyAnXycgKyB0YS5FbnRpdHlDbGFzcy5QbHVyYWwucmVwbGFjZSgvIC9nLCAnXycpOyU+DQogICAgICAgICAgICBpZih0eXBlb2YodGhpcy48JT10YU5hbWUlPigpKSE9PSd1bmRlZmluZWQnKSByZXQuPCU9dGFOYW1lJT4gPSB0aGlzLjwlPXRhTmFtZSU+KCkubWFwKGZ1bmN0aW9uKHRhKXtyZXR1cm4gdGEuPCU9bU5hbWUlPigpO30pOw0KICAgIDwlIH0pJT4NCg0KICAgIDwlIGMuRW50aXR5RmllbGRzLmZvckVhY2goZWYgPT4geyU+DQogICAgICAgICAgICBpZih0eXBlb2YodGhpcy48JT1uQ29kZShlZiklPigpKSE9PSd1bmRlZmluZWQnKSByZXQuPCU9bkNvZGUoZWYpJT4gPSB0aGlzLjwlPW5Db2RlKGVmKSU+KCk7DQogICAgPCUgfSklPg0KDQogICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KGFyRmllbGRzKSkgT2JqZWN0LmtleXMocmV0KS5maWx0ZXIoZnVuY3Rpb24oayl7cmV0dXJuICFhckZpZWxkcy5maW5kKGZ1bmN0aW9uKF9rKXtyZXR1cm4gX2s9PWs7fSk7fSkuZm9yRWFjaChmdW5jdGlvbihrKXsNCiAgICAgICAgICAgICAgICBkZWxldGUgcmV0W2tdOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiByZXQ7DQogICAgICAgIH0NCg0KICAgICAgICA8JT1tTmFtZT0nX3VuaXF1ZSclPihrZXlzLCByZXQpew0KICAgICAgICAgICAgcmV0ID0gcmV0IHx8IG5ldyA8JT1hTmFtZShjKSU+KCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIDwlPV9zdXBlcigna2V5cycsICdyZXQnKSU+DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIGlmKHRoaXMuSWQpIHJldC5JZCA9IHRoaXMuSWQ7DQogICAgICAgICAgICBpZigha2V5cyl7DQogICAgPCUgYy5FbnRpdHlBdHRyaWJ1dGVzLmZpbHRlcihlYSA9PiAhZWEuRW50aXR5TWV0aG9kICYmIGVhLklzVW5pcXVlKS5mb3JFYWNoKGVhID0+IHslPg0KICAgICAgICAgICAgICAgIGlmKHR5cGVvZih0aGlzLjwlPW5OYW1lKGVhKSU+KCkpIT09J3VuZGVmaW5lZCcpIHJldC48JT1uTmFtZShlYSklPih0aGlzLjwlPW5OYW1lKGVhKSU+KCk8JWlmKGVhLkVudGl0eVR5cGUpeyU+LjwlPW1OYW1lJT4oKTwlfSU+KTsNCiAgICA8JSB9KSU+DQogICAgICAgICAgICB9ZWxzZXsNCiAgICA8JSBjLkVudGl0eUF0dHJpYnV0ZXMuZmlsdGVyKGVhID0+ICFlYS5FbnRpdHlNZXRob2QpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgICAgICAgICAgaWYoa2V5cy5pbmRleE9mKCI8JT1uQ29kZShlYSklPiIpPj0wICYmIHR5cGVvZih0aGlzLjwlPW5OYW1lKGVhKSU+KCkpIT09J3VuZGVmaW5lZCcpIHJldC48JT1uTmFtZShlYSklPih0aGlzLjwlPW5OYW1lKGVhKSU+KCk8JWlmKGVhLkVudGl0eVR5cGUpeyU+LjwlPW1OYW1lJT4oKTwlfSU+KTsNCiAgICA8JSB9KSU+DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiByZXQ7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIDwlPW1OYW1lPSdfcXVlcnknJT4oZ3Epew0KICAgICAgICAgICAgbGV0IGFyRmllbGRzID0gPCU9ZmllbGRzJT47DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmKCF0aGlzLl9xdWVyeUdRKSB0aGlzLl9xdWVyeUdRID0gbmV3IGdsb2JhbC5HbGlkZVF1ZXJ5KDwlPXRhYmxlJT4pOw0KDQogICAgICAgICAgICA8JT1fc3VwZXIoJ2dxJyklPg0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgaWRmID0gPCU9aWRGaWVsZCgpJT47DQogICAgICAgICAgICBpZihpZGY9PSdJZCcpIGlkZiA9ICdzeXNfaWQnOw0KICAgICAgICAgICAgaWYodHlwZW9mKHRoaXMuSWQpIT09J3VuZGVmaW5lZCcpIHRoaXMuX3F1ZXJ5R1EgPSB0aGlzLl9xdWVyeUdRLndoZXJlKGlkZiwgJz0nLCB0aGlzLklkKTsNCiAgICAgICAgICAgIA0KICAgIDwlIGMuRW50aXR5QXR0cmlidXRlcy5maWx0ZXIoZWEgPT4gIWVhLkVudGl0eU1ldGhvZCkuZm9yRWFjaChlYSA9PiB7JT4NCiAgICAgICAgICAgIGlmKHR5cGVvZih0aGlzLl88JT1uTmFtZShlYSklPikhPT0ndW5kZWZpbmVkJyl7DQogICAgICAgICAgICAgICAgbGV0IGNvb3AgPSB0aGlzLl88JT1uTmFtZShlYSklPl9jb29wIHx8ICc9JzsNCiAgICAgICAgPCVpZihlYS5Jc1N0cmluZyB8fCBlYS5Jc1RleHQpeyU+DQogICAgICAgICAgICAgICAgaWYoIXRoaXMuXzwlPW5OYW1lKGVhKSU+X2Nvb3ApIGNvb3AgPSAnU1RBUlRTV0lUSCc7DQogICAgICAgIDwlIH0lPg0KICAgICAgICAgICAgICAgIGxldCB2ID0gdGhpcy48JT1uTmFtZShlYSklPigpOw0KICAgICAgICA8JWlmKGVhLkVudGl0eVR5cGUpeyU+DQogICAgICAgICAgICAgICAgaWYodil7DQogICAgICAgICAgICAgICAgICAgIHYgPSB2LmZpbmRBbGwoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYodi5sZW5ndGg9PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgLyppZigiPCU9Yy5OYW1lJT4iPT0iQ29sdW1uIikgPCU9bG9nKCd2WzBdLl90b0RvY3VtZW50KCknLCBlYS5OYW1lKSU+ICovDQogICAgICAgICAgICAgICAgICAgICAgICB2ID0gPCU9aWQoJ3ZbMF0nKSU+Ow0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZighdi5sZW5ndGgpew0KICAgICAgICAgICAgICAgICAgICAgICAgdiA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgY29vcCA9ICdJTic7DQogICAgICAgICAgICAgICAgICAgICAgICB2ID0gdi5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIDwlPWlkKCdyJyklPjt9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmKHR5cGVvZih2KT09PSd1bmRlZmluZWQnKXsNCiAgICAgICAgICAgICAgICAgICAgdiA9IC0xOw0KICAgICAgICAgICAgICAgICAgICA8JT1sb2coKSU+IjwlPW5OYW1lKGVhKSU+WzwlPW5Db2RlKGVhKSU+XSByZXN1bGVkIGluIHVuZGVmaW5lZDogIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuPCU9bk5hbWUoZWEpJT4oKSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgPCV9ZWxzZSBpZihlYS5Jc0RhdGUpeyU+DQogICAgICAgICAgICAgICAgaWYodil7DQogICAgICAgICAgICAgICAgICAgIHYgPSBuZXcgR2xpZGVEYXRlVGltZSh2LnRvSlNPTigpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIDwlfSU+DQogICAgICAgIA0KICAgICAgICAgICAgICAgIGlmKGFyRmllbGRzLmluZGV4T2YoJzwlPW5Db2RlKGVhKS50b0xvd2VyQ2FzZSgpJT4nKT49MCl7DQogICAgICAgICAgICAgICAgICAgIC8qIDwlPWxvZygndGhpcycpJT4gKi8NCiAgICAgICAgICAgICAgICAgICAgaWYodj09bnVsbCAmJiBjb29wPT0nPScpew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVlcnlHUSA9IHRoaXMuX3F1ZXJ5R1Eud2hlcmVOdWxsKCc8JT1uQ29kZShlYSkudG9Mb3dlckNhc2UoKSU+Jyk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHY9PW51bGwgJiYgY29vcD09JyE9Jyl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeUdRID0gdGhpcy5fcXVlcnlHUS53aGVyZU5vTnVsbCgnPCU9bkNvZGUoZWEpLnRvTG93ZXJDYXNlKCklPicpOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXJ5R1EgPSB0aGlzLl9xdWVyeUdRLndoZXJlKCc8JT1uQ29kZShlYSkudG9Mb3dlckNhc2UoKSU+JywgY29vcCwgdik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgPCUgfSklPg0KDQogICAgICAgICAgICBpZighdGhpcy5fcXVlcnlHUS5wbGFuLmxlbmd0aCkgdGhpcy5fcXVlcnlHUS53aGVyZU51bGwoaWRmKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLyogPCU9bG9nKCd0aGlzLl9xdWVyeUdRLnRvR2xpZGVSZWNvcmQoKS5nZXRFbmNvZGVkUXVlcnkoKScpJT4gKi8NCiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWVyeUdROw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgIDwlPW1OYW1lPSdfc2F2ZSclPihvYmopew0KICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShvYmopKSByZXR1cm4gb2JqLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gbmV3IDwlPWFOYW1lKGMpJT4oKS48JT1tTmFtZSU+KG8pfSk7DQoNCiAgICAgICAgICAgIGxldCBfb2JqID0ge307DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8qPCU9bG9nKCdvYmonLCAnLi4uJyklPiovDQogICAgICAgICAgICANCiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZmlsdGVyKGZ1bmN0aW9uKGspe3JldHVybiA8JT1maWVsZHMlPi5maWx0ZXIoZnVuY3Rpb24oX2spe3JldHVybiB0cnVlIHx8IFsnc3lzX3VwZGF0ZWRfb24nLCAnc3lzX2NyZWF0ZWRfb24nLCAndXBkYXRlcycsICdzeXNfY3JlYXRlZF9ieScsICdzeXNfdXBkYXRlZF9ieSddLmluZGV4T2YoX2spPDB9KS5pbmRleE9mKGsudG9Mb3dlckNhc2UoKSk+PTB9KS5mb3JFYWNoKGZ1bmN0aW9uKGspe19vYmpbay50b0xvd2VyQ2FzZSgpXT1vYmpba119KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgT2JqZWN0LmtleXMoX29iaikuZm9yRWFjaChmdW5jdGlvbihrKXsNCiAgICAgICAgICAgICAgICBpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoX29ialtrXSkgPT09ICJbb2JqZWN0IERhdGVdIiAmJiBpc05hTihfb2JqW2tdKSl7DQogICAgICAgICAgICAgICAgICAgIDwlPWxvZygnaycsICdpbnZhbGlkIGRhdGUnKSU+DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfb2JqW2tdOw0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZihfb2JqW2tdKT09PSdvYmplY3QnICYmIF9vYmpba10gJiYgX29ialtrXS5zeXNfaWQpew0KICAgICAgICAgICAgICAgICAgICA8JT1sb2coJ2snLCAnc3lzX2lkIHRvIHN0cmluZycpJT4NCiAgICAgICAgICAgICAgICAgICAgX29ialtrXSA9IF9vYmpba10uc3lzX2lkOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgX3RoaXMgPSBudWxsOw0KICAgICAgICAgICAgaWYob2JqLl9fa2V5cyl7DQogICAgICAgICAgICAgICAgbGV0IGtPYmogPSB7fTsNCiAgICAgICAgICAgICAgICBrT2JqWzwlPWlkRmllbGQoJ19vYmonKSU+XSA9IDwlPWlkKCdfb2JqJyklPjsNCiAgICAgICAgICAgICAgICBvYmouX19rZXlzLmZvckVhY2goZnVuY3Rpb24oayl7a09ialtrXSA9IF9vYmpba119KTsNCiAgICAgICAgICAgICAgICBfdGhpcyA9IG5ldyA8JT1hTmFtZShjKSU+KCkuX2Zyb21Eb2N1bWVudChrT2JqKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIF90aGlzID0gbmV3IDwlPWFOYW1lKGMpJT4oKS5fZnJvbURvY3VtZW50KF9vYmopLl91bmlxdWUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLyo8JT1sb2coKSU+Il90aGlzLklkPSIgKyBfdGhpcy5JZCArICIsIF90aGlzLmZpbmQoKS5JZDogIiArIF90aGlzLmZpbmQoKS5JZCk7Ki8NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgX29iai5zeXNfaWQgPSAoX3RoaXMuZmluZCgpIHx8IHRoaXMgfHwge30pLklkIHx8IF9vYmouc3lzX2lkOw0KICAgICAgICAgICAgZGVsZXRlIF9vYmouX19pZEZpZWxkOw0KDQogICAgICAgICAgICB0cnl7DQogICAgICAgICAgICAgICAgPCU9bG9nKCdfb2JqLnN5c19pZCcpJT4NCg0KICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF9vYmopLmZpbHRlcihmdW5jdGlvbihrKXtyZXR1cm4gay50b0xvd2VyQ2FzZSgpIT1rO30pLmZvckVhY2goZnVuY3Rpb24oayl7DQogICAgICAgICAgICAgICAgICAgIDwlPWxvZygnaycsICdyZW5hbWluZycpJT4NCiAgICAgICAgICAgICAgICAgICAgdmFyIGxrID0gay50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgICAgICAgICBfb2JqW2xrXSA9IF9vYmpba107DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfb2JqW2tdOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGxldCBncSA9IG5ldyBnbG9iYWwuR2xpZGVRdWVyeShvYmouX190eXBlIHx8IDwlPXRhYmxlJT4pOw0KICAgICAgICAgICAgICAgIC8qPCU9bG9nKCdfb2JqJywgJ3Vwc2VydGluZy4uLicpJT4qLw0KICAgICAgICAgICAgICAgIGlmKF9vYmouc3lzX2lkKXsNCiAgICAgICAgICAgICAgICAgICAgZ3EgPSBncS53aGVyZSgnc3lzX2lkJywgX29iai5zeXNfaWQpLnVwZGF0ZShfb2JqKTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgX29iai5zeXNfaWQgPSBncy5nZW5lcmF0ZUdVSUQoKTsNCiAgICAgICAgICAgICAgICAgICAgZ3EgPSBncS5pbnNlcnQoX29iaik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxldCBfZk9iaiA9IHt9Ow0KICAgICAgICAgICAgICAgIF9mT2JqWzwlPWlkRmllbGQoJ29iaicpJT5dID0gPCU9aWQoJ29iaicpJT47DQogICAgICAgICAgICAgICAgdGhpcy5fZnJvbURvY3VtZW50KF9vYmogPSBPYmplY3QuYXNzaWduKF9mT2JqLCBncS5nZXQoPCU9ZmllbGRzJT4pKSk7DQogICAgICAgICAgICB9Y2F0Y2goZXgpew0KICAgICAgICAgICAgICAgIDwlPWxvZygnZXgnLCAnRXhjZXB0aW9uJyklPg0KICAgICAgICAgICAgICAgIDwlPWxvZygnX29iaicsICdFeGNlcHRpb24nKSU+DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgICAgICB9DQoNCiAgICA8JSBjLlR5cGVkQXR0cmlidXRlcy5mb3JFYWNoKHRhID0+IHsgbGV0IHRhTmFtZSA9IG5OYW1lKHRhKSArICdfJyArIHRhLkVudGl0eUNsYXNzLlBsdXJhbC5yZXBsYWNlKC8gL2csICdfJyk7JT4NCiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkob2JqLjwlPXRhTmFtZSU+KSkgdGhpcy48JT10YU5hbWUlPihvYmouPCU9dGFOYW1lJT4ubWFwKGZ1bmN0aW9uKHRhKXtyZXR1cm4gbmV3IDwlPWFOYW1lKHRhLkVudGl0eUNsYXNzKSU+KCkuPCU9bU5hbWUlPih0YSl9KSk7DQogICAgPCUgfSklPg0KDQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfQ0KDQogICAgPCUgY3J1ZE1ldGhvZHMoYywgJ1NOT1cnKS5jb25jYXQoYy5FbnRpdHlNZXRob2RzKS5maWx0ZXIobSA9PiAhbS5Jc1ByaXZhdGUpLmZvckVhY2gobSA9PiB7JT4NCiAgICAgICAgLyoqKioqKioqKioqKiogPCU9bk5hbWUoYyklPi48JT1uTmFtZShtKSU+KCkgKioqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgICAgPCU9bU5hbWU9bk5hbWUobSklPihfX2V2ZW50PCU9bS5NZXRob2RQYXJhbWV0ZXJzLm1hcChwID0+ICcsICcrbk5hbWUocCkpLmpvaW4oJycpJT4pew0KICAgICAgICAgICAgbGV0IGxvZyA9IGZ1bmN0aW9uKGxvZ09iail7DQogICAgICAgICAgICAgICAgPCU9bG9nKCdsb2dPYmonKSU+DQogICAgICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgICAgIGxldCBhbnN3ZXIgPSB1bmRlZmluZWQ7DQoNCiAgICAgICAgICAgIGxldCBub2RlID0gPCVpZihuYyl7JT5uZXcgPCU9YU5hbWUobmMpJT4oKS5jb2RlKGdzLmdldFByb3BlcnR5KCdpbnN0YW5jZV9uYW1lJykpPCV9ZWxzZXslPm51bGw8JX0lPjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgbGV0IF9fcmVzcG9uc2UgPSA8JWlmKG5jKXslPm5ldyA8JT1hTmFtZShlYyklPigpLmNvZGUoJ1snK25vZGUuY29kZSgpKydAJytuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgnLjAwMFonLCAnWicpKyddLjwlPW5OYW1lKGMpJT4uPCU9bk5hbWUobSklPigpJykuYWN0aXZlKHRydWUpLmVuYWJsZWQodHJ1ZSkuZGF0ZShuZXcgRGF0ZSgpKS5tZXRob2QoJzwlPW5OYW1lKG0pJT4nKS5jbGFzc05hbWUoJzwlPW5OYW1lKGMpJT4nKS5jYXJyaWVyKG5vZGUpLnNlbmRlcihub2RlKTwlfWVsc2V7JT5udWxsPCV9JT47DQoNCiAgICAgICAgICAgIGxldCBldkpTT04gPSBudWxsOw0KICAgICAgICAgICAgaWYoX19ldmVudCl7DQogICAgICAgICAgICAgICAgZXZKU09OID0gSlNPTi5wYXJzZShfX2V2ZW50LnBheWxvYWQoKSk7DQogICAgICAgICAgICAgICAgaWYodHlwZW9mKGV2SlNPTi5fX3RoaXMpIT09J3VuZGVmaW5lZCcpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcm9tRG9jdW1lbnQoZXZKU09OLl9fdGhpcyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICA8JSBtLk1ldGhvZFBhcmFtZXRlcnMuZm9yRWFjaChwID0+IHslPg0KICAgICAgICAgICAgICAgIGlmKHR5cGVvZihldkpTT04uPCU9bk5hbWUocCklPikhPT0ndW5kZWZpbmVkJyl7DQogICAgICAgICAgICAgICAgICAgIDwlPW5OYW1lKHApJT4gPSBldkpTT04uPCU9bk5hbWUocCklPjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIDwlIH0pJT4NCiAgICAgICAgICAgICAgICBpZihfX3Jlc3BvbnNlKSBfX3Jlc3BvbnNlLnJlY2lwaWVudChfX2V2ZW50LnNlbmRlcigpLl91bmlxdWUoKSkucmVzcG9uc2VUbyhfX2V2ZW50Ll91bmlxdWUoKSk7DQogICAgICAgIA0KICAgICAgICA8JT0obS5NZXRob2RSdWxlcyB8fCBbXSkuY29uY2F0KChjLkVudGl0eVJ1bGVzIHx8IFtdKS5maWx0ZXIociA9PiByW25OYW1lKG0pXSkpLmZpbHRlcihyID0+IHIuU3RhcnQpLm1hcChyID0+IHIuU25TY3JpcHQpJT4NCg0KICAgICAgICAgICAgICAgIGlmKCFfX2V2ZW50LnJlc3BvbnNlVG8oKSl7DQogICAgICAgICAgICAgICAgICAgIDwlPWxvZygpJT4iIGhhbmRsaW5nIGV2ZW50WyIrX19ldmVudC5jb2RlKCkrIl0iKTsNCiAgICAgICAgPCUgKG0uTWV0aG9kUnVsZXMgfHwgW10pLmNvbmNhdCgoYy5FbnRpdHlSdWxlcyB8fCBbXSkuZmlsdGVyKHIgPT4gcltuTmFtZShtKV0pKS5maWx0ZXIociA9PiByLkJlZm9yZSkuZm9yRWFjaChyID0+IHslPjwlPXIuU25TY3JpcHQlPjwlIH0pJT4NCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgPCU9bG9nKCklPiJhIHJlc3BvbnNlIHRvIG15IGV2ZW50KCIrX19ldmVudC5yZXNwb25zZVRvKCkuY29kZSgpKyIpIFsiICsgX19ldmVudC5jbGFzc05hbWUoKSArICIoKS4iICsgX19ldmVudC5tZXRob2QoKSArICIoKV0iKTsNCiAgICAgICAgPCUgaWYobS5SZXNwb25zZUF0dHJpYnV0ZS5FbnRpdHlUeXBlKXslPg0KICAgICAgICAgICAgICAgICAgICBhbnN3ZXIgPSB0aGlzLl9uZXcoKS5fZnJvbURvY3VtZW50KGV2SlNPTik7DQogICAgICAgIDwlIH1lbHNleyU+DQogICAgICAgICAgICAgICAgICAgIGFuc3dlciA9IGV2SlNPTjsNCiAgICAgICAgPCUgfSU+DQoNCiAgICAgICAgPCUgKG0uTWV0aG9kUnVsZXMgfHwgW10pLmNvbmNhdCgoYy5FbnRpdHlSdWxlcyB8fCBbXSkuZmlsdGVyKHIgPT4gcltuTmFtZShtKV0pKS5maWx0ZXIociA9PiByLkFmdGVyKS5mb3JFYWNoKHIgPT4geyU+PCU9ci5TblNjcmlwdCU+PCUgfSklPg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIDwlPWxvZyhudWxsLCAnZXhlY3V0aW5nIGxvY2FsbHknKSU+DQoNCiAgICAgICAgPCUgaWYobU5hbWU9PSdzdG9yZScpeyU+DQogICAgICAgICAgICAgICAgLy8gc3RvcmUgbG9jYWxseQ0KICAgICAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMuX3VuaXF1ZSgpLmZpbmQoKTsNCiAgICAgICAgICAgICAgICBpZihfdGhpcykgdGhpcy5JZCA9IF90aGlzLklkOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zYXZlKHRoaXMuX3RvRG9jdW1lbnQoKSk7DQogICAgICAgIDwlIH1lbHNlIGlmKG1OYW1lPT0nZmluZCcpeyU+DQogICAgICAgICAgICAgICAgbGV0IHJldCA9IHRoaXMuZmluZEFsbCgpOw0KICAgICAgICAgICAgICAgIHJldHVybiByZXQubGVuZ3RoP3JldFswXTpudWxsOw0KICAgICAgICA8JSB9ZWxzZSBpZihtTmFtZT09J2ZpbmRBbGwnKXslPg0KICAgICAgICAgICAgICAgIC8vIGZpbmRBbGwgbG9jYWxseQ0KICAgICAgICAgICAgICAgIGxldCBnciA9IG5ldyBHbGlkZVJlY29yZCgiPCU9bkNvZGUoYyklPiIpOw0KICAgICAgICAgICAgICAgIGdyLmFkZEVuY29kZWRRdWVyeSh0aGlzLl90b0VRdWVyeSgpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJvbURvY3VtZW50KGdyKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvL3JldHVybiB0aGlzLl9mcm9tRG9jdW1lbnQodGhpcy5fcXVlcnkoKS5zZWxlY3QoPCU9ZmllbGRzJT4pKTsNCiAgICAgICAgPCUgfSU+DQoNCiAgICAgICAgPCU9bS5TblNjcmlwdCU+DQogICAgICAgICAgICB9DQoNCg0KICAgICAgICA8JSAobS5NZXRob2RSdWxlcyB8fCBbXSkuY29uY2F0KChjLkVudGl0eVJ1bGVzIHx8IFtdKS5maWx0ZXIociA9PiByW25OYW1lKG0pXSkpLmZpbHRlcihyID0+IHIuRW5kKS5mb3JFYWNoKHIgPT4geyU+PCU9ci5TblNjcmlwdCU+PCUgfSklPg0KDQogICAgICAgICAgICBpZihfX3Jlc3BvbnNlICYmICghX19ldmVudCB8fCAhX19ldmVudC5yZXNwb25zZVRvKCkpKXsNCiAgICAgICAgICAgICAgICBpZihhbnN3ZXIpew0KICAgICAgICA8JSBpZihtLlJlc3BvbnNlQXR0cmlidXRlLkVudGl0eVR5cGUpeyU+DQogICAgICAgICAgICAgICAgICAgIF9fcmVzcG9uc2UucGF5bG9hZChhbnN3ZXIuX3RvRG9jdW1lbnQoKSk7DQogICAgICAgIDwlIH1lbHNleyU+DQogICAgICAgICAgICAgICAgICAgIF9fcmVzcG9uc2UucGF5bG9hZChzdHIoYW5zd2VyKSk7DQogICAgICAgIDwlIH0lPg0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBfX3Jlc3BvbnNlLnBheWxvYWQoe19fdGhpczogdGhpcy5fdG9Eb2N1bWVudCgpfSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgIDwlIGlmKGMuTmFtZSE9PSdFdmVudCcgfHwgbS5OYW1lIT09J3RyaWdnZXInKXslPg0KICAgICAgICAgICAgICAgIF9fcmVzcG9uc2UudHJpZ2dlcigpOw0KICAgICAgICA8JSB9JT4NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIGFuc3dlcjsNCiAgICAgICAgfQ0KICAgIDwlIH0pJT4NCiAgICB9DQoNCiAgICBgLCAnamF2YXNjcmlwdCcpLA0KfSwNCjwlfSklPg0KXQ==",
	"footer": "",
	"name": "SnMQTT",
	"script": "d2luZG93LlRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBfRnJFTUQuUHJveHlOb2RlVGVtcGxhdGUgewoJYXN5bmMgbWFpbigpIHsKCQl0aGlzLl90aGlzID0gbmV3IHRoaXMub1Njb3BlW3RoaXMub1Njb3BlLkVudGl0eUNsYXNzZXMuZmluZChjID0+IGMuSXNNYWluKS5OYW1lXShudWxsLCAnU05PV09PQicpOwoJfQoKCWFzeW5jIHBvc3RJbmplY3QocmV0KSB7CgkJbGV0IGpzb24gPSBhd2FpdCB0aGlzLl90aGlzLnJ1blNjcmlwdChyZXQuQm9keSk7CgkJbGV0IHN5c19pZCA9ICdmNDc5MjljMmMzYzFlYTUwZjhkODUzZjFiNDAxMzEzOCc7CgoJCWZhbHNlICYmIGNvbnNvbGUubG9nKGpzb25bMF0uc2NyaXB0LnJlcGxhY2UoL2NsYXNzIChcdyspIHsvZ20sICdnbG9iYWwuJDEgPSBDbGFzcy5jcmVhdGUoKTtcbmdsb2JhbC4kMS5wcm90b3R5cGUgPSAoeycpCgkJCS5yZXBsYWNlKC9cL1wqKFx3K1wucHJvdG90eXBlXC5cdysuY2FsbFwodGhpcyxccylcKlwvXHMqc3VwZXJcKC9nLCAnJDEnKQoJCQkucmVwbGFjZSgvXHQoKD8hZnVuY3Rpb25cYilcYlx3KylcKC9nbSwgJyxcdCQxOiBmdW5jdGlvbignKQoJCQkucmVwbGFjZSgvY2xhc3MgKFx3KykgZXh0ZW5kcyAoXHcrKSB7L2dtLCAnZ2xvYmFsLiQxID0gQ2xhc3MuY3JlYXRlKCk7XG5nbG9iYWwuJDEucHJvdG90eXBlID0gT2JqZWN0LmV4dGVuZHNPYmplY3QoZ2xvYmFsLiQyLCB7JykKCQkJLnJlcGxhY2UoL1x0KGNvbnN0cnVjdG9yKVwoL2dtLCAnXHRpbml0aWFsaXplOiBmdW5jdGlvbignKQoJCQkucmVwbGFjZSgvXHQobGV0KSAvZ20sICdcdHZhciAnKS5yZXBsYWNlKC9cdChcdyspIFw9L2dtLCAnXHQkMTogJykgKyAnKScpOwoKCQlpZiAoIXRoaXMuX25ldygnUXVldWUnKSkgewoJCQl0aGlzLl90aGlzLklkID0gc3lzX2lkOwoJCQlhd2FpdCB0aGlzLl90aGlzLl9yZXN0KCdlY2NfcXVldWUnLCBudWxsLCB7CgkJCQlwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShqc29uKSwKCQkJCXRvcGljOiAnQVBJU0VSVkVSJywKCQkJCWFnZW50OiAnR2VuZXJhdGVkIFNjcmlwdCcsCgkJCQluYW1lOiB0aGlzLnNjb3BlICsgJy5wcm94eScsCgkJCQlxdWV1ZTogJ2lucHV0JywKCQkJfSwgJ3B1dCcpOwoJCQkvL2NvbnNvbGUubG9nKCJqc29uIiwganNvbik7CgkJCXJldHVybjsKCQl9CgoJCWF3YWl0IHRoaXMuX25ldygnUXVldWUnLCAnU05PV09PQicsIHN5c19pZCkuY29kZSh0aGlzLnNjb3BlICsgJy5wcm94eScpLm5hbWUoJ0FQSVNFUlZFUicpLnJlbWFyayhqc29uLm1hcChjID0+IHRoaXMuX25ldygnU2NyaXB0IEZpbGUnLCAnU05PV09PQicpLl9mcm9tRG9jdW1lbnQoYywgdHJ1ZSkpLm1hcChjID0+IGMuX3RvSlNPTih7CgkJCWJNYXA6IHRydWUsCgkJCXBhcnNlOiB0cnVlCgkJfSkpKS51cGRhdGUoKTsKCX0KCglhTmFtZShjKSB7CgkJcmV0dXJuIHRoaXMuc2NvcGUgKyAnXycgKyAoYy5FbnRpdHlNb2R1bGUgPyAoKGMuRW50aXR5TW9kdWxlLkFsaWFzIHx8ICcnKS5zcGxpdCgnLicpLmpvaW4oJ18nKSArICdfJykgOiAnJykgKyB0aGlzLm5OYW1lKGMpOwoJfQoKCXNuVHlwZShlYSwgcCA9ICcnKSB7CgkJbGV0IHJldCA9ICcnOwoJCWlmIChlYS5FbnRpdHlUeXBlKSB7CgkJCXJldCA9IHRoaXMuYU5hbWUoZWEuRW50aXR5VHlwZSk7CgkJfSBlbHNlIGlmIChlYS5Jc1N0cmluZyB8fCBlYS5Jc1RleHQpIHsKCQkJcmV0ID0gJ3N0ZDo6c3RyaW5nJzsKCQl9IGVsc2UgaWYgKGVhLklzQm9vbCkgewoJCQlyZXQgPSAnYm9vbCc7CgkJfSBlbHNlIGlmIChlYS5Jc0xvbmcpIHsKCQkJcmV0ID0gJ2xvbmcnOwoJCX0gZWxzZSBpZiAoZWEuSXNJbnQpIHsKCQkJcmV0ID0gImludCI7CgkJfSBlbHNlIGlmIChlYS5Jc0Zsb2F0KSB7CgkJCXJldCA9ICdmbG9hdCc7CgkJfSBlbHNlIGlmIChlYS5Jc0RhdGUpIHsKCQkJcmV0ID0gInRpbWVfdCI7CgkJfSBlbHNlIGlmIChlYS5Jc0ltYWdlKSB7CgkJCXJldCA9ICJqYXZhLmF3dC5pbWFnZS5CdWZmZXJlZEltYWdlIjsKCQl9IGVsc2UgaWYgKGVhLklzT2JqZWN0KSB7CgkJCXJldCA9ICJqc29uIjsKCQl9IGVsc2UgewoJCQlyZXQgPSAnc3RkOjphbnknOwoJCX0KCgkJaWYgKGVhLklzQXJyYXkpIHsKCQkJcmV0ID0gJ3N0ZDo6dmVjdG9yPCcgKyByZXQgKyAnPicgKyBwOwoJCX0gZWxzZSBpZiAoZWEuRW50aXR5VHlwZSkgewoJCQlyZXQgKz0gcDsKCQl9CgkJcmV0dXJuIHJldDsKCX0KfTs=",
	"title": "",
	"dataLayer": null,
	"type": null,
	"__keys": ["name"],
	"active": true,
	"__trMap": []
}