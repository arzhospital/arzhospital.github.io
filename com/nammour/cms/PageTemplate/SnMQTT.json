{
	"Id": "019677150004777094becb8e0069bca1",
	"body": "Ww0KICAgIHsNCiAgICAgICAgYWN0aXZlOiB0cnVlLA0KICAgICAgICBzeXNfbmFtZTogIkdsaWRlUHJveHkiLA0KICAgICAgICBhcGlfbmFtZTogImdsb2JhbC5HbGlkZVByb3h5IiwNCiAgICAgICAgbmFtZTogIkdsaWRlUHJveHkiLA0KICAgICAgICBhY2Nlc3M6ICdwdWJsaWMnLA0KICAgICAgICBzY3JpcHQ6IF9GckVNRC5fYmVhdXRpZnkoYA0KDQpjbGFzcyBHbGlkZVByb3h5ew0KICAgIGNvbnN0cnVjdG9yKHRhYmxlKXsNCiAgICAgICAgbmV3IGdsb2JhbC5Qcm94eSh0aGlzLCB7DQogICAgICAgICAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgew0KICAgICAgICAgICAgICAgIGdzLmluZm8oIkdPVCBIRVJFOiAiICsgcHJvcCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCn0NCg0KICAgICAgICBgKSwNCiAgICB9LA0KDQo8JQ0KICAgIHJhbmsob1Njb3BlLkVudGl0eUNsYXNzZXMpLmZvckVhY2goYyA9PiB7DQogICAgbGV0IGxvZyA9IChzLCBtc2cpID0+IHsNCiAgICAgICAgbGV0IHJldCA9IGBncy5pbmZvKCIke25OYW1lKGMpfS4ke21OYW1lfSgpOiAiYDsNCiAgICAgICAgDQogICAgICAgIGlmKG1zZyl7DQogICAgICAgICAgICByZXQgKz0gYCsgIiR7bXNnfSAiYDsNCiAgICAgICAgfQ0KICAgICAgICBpZihzKXsNCiAgICAgICAgICAgIHJldCArPSBgKyAiJHtzfTogIiArIEpTT04uc3RyaW5naWZ5KCR7c30sIG51bGwsIDQpYDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYocyB8fCBtc2cpew0KICAgICAgICAgICAgcmV0ICs9ICcpOyc7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgcmV0ICs9ICcgKyAnOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICByZXR1cm4gcmV0Ow0KICAgIH07DQogICAgDQpsZXQgaWRGaWVsZCA9IHIgPT4gYCgoZnVuY3Rpb24ocil7DQogICAgbGV0IHJldCA9ICdzeXNfaWQnOw0KICAgIGlmKHR5cGVvZihyLl9faWRGaWVsZCk9PT0nZnVuY3Rpb24nKXsNCiAgICAgICAgcmV0ID0gci5fX2lkRmllbGQoKTsNCiAgICB9ZWxzZSBpZih0eXBlb2YocltyLl9faWRGaWVsZCB8fCAodHlwZW9mKHRoaXMuX19pZEZpZWxkKT09PSdmdW5jdGlvbic/dGhpcy5fX2lkRmllbGQoKTp1bmRlZmluZWQpXSkhPT0ndW5kZWZpbmVkJyl7DQogICAgICAgIHJldCA9IHIuX19pZEZpZWxkIHx8IHRoaXMuX19pZEZpZWxkKCk7DQogICAgfWVsc2UgaWYodHlwZW9mKHIuSWQpIT09J3VuZGVmaW5lZCcpew0KICAgICAgICByZXQgPSAnSWQnOw0KICAgIH1lbHNlIGlmKHR5cGVvZihyLnN5c19tb2RfY291bnQpIT09J3VuZGVmaW5lZCcpew0KICAgICAgICByZXQgPSAnc3lzX2lkJzsNCiAgICB9DQogICAgcmV0dXJuIHJldDsNCn0pKCR7ciB8fCAndGhpcyd9KSlgOw0KDQpsZXQgaWQgPSByID0+IGAoKGZ1bmN0aW9uKHIsIGYpew0KICAgIGlmKHR5cGVvZihyKT09PSdvYmplY3QnICYmIHIpew0KICAgICAgICBpZih0eXBlb2Yoci5fdG9Eb2N1bWVudCk9PT0nZnVuY3Rpb24nICYmIHR5cGVvZihyW2ZdKT09PSdmdW5jdGlvbicpew0KICAgICAgICAgICAgcmV0dXJuIHIuX3RvRG9jdW1lbnQoKVtmXTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiByW2ZdOw0KICAgIH0NCg0KICAgIHJldHVybiBudWxsOw0KfSkoJHtyIHx8ICd0aGlzJ30sICR7aWRGaWVsZChyIHx8ICd0aGlzJyl9KSlgOw0KDQpsZXQgX2NOYW1lID0gKGNuPWMuTmFtZSwgYkFsaWFzKSA9PiB7DQogICAgaWYoY24uTmFtZSkgY24gPSBjbi5OYW1lOw0KICAgIGxldCBfYyA9IG9TY29wZS5FbnRpdHlDbGFzc2VzLmZpbmQoZWMgPT4gZWMuTmFtZT09Y24pOw0KICAgIGlmKCFfYykgcmV0dXJuICcnOw0KICAgIHJldHVybiBuTmFtZShfYywgYkFsaWFzKTsNCn07DQoNCmxldCB0YWJsZSA9ICInIiArIF9uZXcoYy5OYW1lLCAnU05PV09PQicpLl9uQ29kZSgpICsgIiciOw0KbGV0IGZpZWxkcyA9ICJPYmplY3Qua2V5cyhnbG9iYWwuU2NoZW1hLm9mKCIgKyB0YWJsZSArICIsIFsnKiddKVsiICsgdGFibGUgKyAiXSkiOw0KbGV0IGFsaWFzID0gKGNuLCBqPSdfJykgPT4gKHNjb3BlICsgJy4nICsgX2NOYW1lKGNuLCB0cnVlKS5yZXBsYWNlKF9jTmFtZShjbiksICcnKSkuc3BsaXQoJy4nKS5maWx0ZXIobiA9PiBuKS5qb2luKGopOw0KbGV0IF9zdXBlciA9ICguLi5hcmdzKSA9PiBjLkV4dGVuZHM/YC8qJHthbGlhcygpfV8ke25OYW1lKGMuRXh0ZW5kcyl9LnByb3RvdHlwZS4ke21OYW1lfS5jYWxsKHRoaXMsICovc3VwZXIke21OYW1lPT0nY29uc3RydWN0b3InPycnOignLicrbU5hbWUpfSgke2FyZ3Muam9pbignLCcpfSlgOid1bmRlZmluZWQnOw0KbGV0IF92Q29kZSA9IGsgPT4geyU+KDwldmFsdWVPZihrLkNvZGUpJT4gfHwgKCI8JT1uQ29kZShrKSU+IikpPCV9Ow0KbGV0IGZ1bmN0aW9uT2YgPSAoZnVuLCBfdGhpcz0ndGhpcycpID0+IHslPg0KICAgICAgICBsZXQgX19yZXQgPSB1bmRlZmluZWQ7DQogICAgPCUgaWYoZnVuKXslPg0KICAgICAgICA8JSBpZih0eXBlb2YoZnVuKT09PSdvYmplY3QnKXslPg0KICAgICAgICAgICAgICAgIDwlIGlmKHR5cGVvZihmdW4uU2VydmljZU5vdyk9PT0nZnVuY3Rpb24nKXslPg0KICAgICAgICAgICAgX19yZXQgPSA8JT1mdW4uU2VydmljZU5vdy50b1N0cmluZygpLnJlcGxhY2UoL1xgL2csICdcXFxgJyklPjsNCiAgICAgICAgICAgICAgICA8JSB9ZWxzZSBpZighZnVuLlNlcnZpY2VOb3cgfHwgZnVuLlNlcnZpY2VOb3cuaW5kZXhPZigiPDwiKT09LTEpeyU+DQogICAgICAgICAgICBfX3JldCA9IDwlPShKU09OLnN0cmluZ2lmeShmdW4uU2VydmljZU5vdykgfHwgJyIiJyklPjsNCiAgICAgICAgICAgICAgICA8JSB9JT4NCiAgICAgICAgPCUgfWVsc2V7JT4NCiAgICAgICAgICAgIF9fcmV0ID0gPCU9ZnVuJT47DQogICAgICAgIDwlIH0lPg0KICAgIDwlIH0lPg0KICAgICAgICBpZih0eXBlb2YoX19yZXQpPT09J3N0cmluZycgJiYgX19yZXQuc3RhcnRzV2l0aCgicygiKSAmJiBfX3JldC5lbmRzV2l0aCgiKSIpKXsNCiAgICAgICAgICAgIF9fcmV0ID0gdGhpcy5ydW5TY3JpcHQoX19yZXQuc2xpY2UoMiwtMSkpOw0KICAgICAgICB9DQogICAgICAgIGlmKHR5cGVvZihfX3JldCk9PT0iZnVuY3Rpb24iKXsNCiAgICAgICAgICAgIF9fcmV0ID0gX19yZXQoPCU9X3RoaXMlPik7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHJldHVybiBfX3JldDsNCjwlfTsNCg0KbGV0IHZhbHVlT2YgPSAoZnVuLCBfdGhpcz0ndGhpcycpID0+IHslPigoDQpmdW5jdGlvbigpew0KICAgIHRyeXsNCjwlZnVuY3Rpb25PZihmdW4sIF90aGlzKSU+DQogICAgfWNhdGNoKF92T2ZFeCl7DQogICAgICAgIDwlPWxvZygpJT4ndmFsdWVPZicsIF92T2ZFeCwgPCU9X0ZyRU1ELl90b0pTKGZ1bikucmVwbGFjZSgvXGAvZywgJ1xcXGAnKSU+KTsNCiAgICB9DQp9DQopKCkpPCV9Ow0KDQogICAgJT4NCg0Kew0KICAgIC8vc3lzX2lkOiBfRnJFTUQuX3V1aWQoIjwlPWNuZihjLCAnc2NvcGUnKSU+LjwlPWFsaWFzKCklPl88JT1uTmFtZShjKSU+IiksDQogICAgYWN0aXZlOiB0cnVlLA0KICAgIHN5c19uYW1lOiAiPCU9YWxpYXMoKSU+XzwlPW5OYW1lKGMpJT4iLA0KICAgIGFwaV9uYW1lOiAiPCU9Y25mKGMsICdzY29wZScpJT4uPCU9YWxpYXMoKSU+XzwlPW5OYW1lKGMpJT4iLA0KICAgIG5hbWU6ICI8JT1hbGlhcygpJT5fPCU9bk5hbWUoYyklPiIsDQogICAgc2NyaXB0OiBfRnJFTUQuX2JlYXV0aWZ5KGANCg0KICAgIGNsYXNzIDwlPWFsaWFzKCklPl88JT1uTmFtZShjKSU+PCVpZihjLkV4dGVuZHMpeyU+IGV4dGVuZHMgPCU9YWxpYXMoKSU+XzwlPW5OYW1lKGMuRXh0ZW5kcyklPjwlfSU+ew0KICAgICAgICA8JT1tTmFtZT0nY29uc3RydWN0b3InJT4oaWQpew0KICAgICAgICAgICAgPCU9X3N1cGVyKCdpZCcpJT4NCiAgICAgICAgICAgIHRoaXMuSWQgPSBpZDsNCiAgICAgICAgICAgIHRoaXMuX19tb2R1bGUgPSAiPCU9Yy5FbnRpdHlNb2R1bGU/Yy5FbnRpdHlNb2R1bGUuTmFtZTonJyU+IjsNCiAgICAgICAgICAgIHRoaXMuX190eXBlID0gIjwlPWFsaWFzKCklPl88JT1uTmFtZShjKSU+IjsNCiAgICAgICAgICAgIHRoaXMuX19hbGlhcyA9ICI8JT1hbGlhcygpJT4iOw0KICAgICAgICAgICAgdGhpcy5fX3Njb3BlID0gIjwlPXNjb3BlJT4iOw0KICAgICAgICB9DQoNCiAgICA8JSBjLkVudGl0eUF0dHJpYnV0ZXMuZmlsdGVyKGVhID0+ICFlYS5FbnRpdHlNZXRob2QpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgIC8qKioqKioqKioqKioqIDwlPW5OYW1lKGMpJT4uPCU9bk5hbWUoZWEpJT4gR0VUVEVSUyBBTkQgU0VUVEVSUyAqKioqKioqKioqKioqKioqKioqKioqLw0KICAgICAgICA8JT1tTmFtZT1uTmFtZShlYSklPih2LCBjb29wKXsNCiAgICAgICAgICAgIGlmKHR5cGVvZih2KSE9PSd1bmRlZmluZWQnKXsNCg0KICAgICAgICA8JSBpZihlYS5Jc0RhdGUpeyU+DQogICAgICAgICAgICAgICAgaWYodikgdiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgRGF0ZV0nP3Y6KG5ldyBEYXRlKHYpKTsNCiAgICAgICAgICAgICAgICBpZih2ICYmIGlzTmFOKHYuZ2V0VGltZSgpKSkgdiA9IG51bGw7DQogICAgICAgICAgICAgICAgLy88JT1sb2coJ3R5cGVvZih2KScpJT4NCiAgICAgICAgPCUgfSU+DQogICAgICAgICAgICAgICAgdGhpcy5fPCU9bk5hbWUoZWEpJT4gPSB2Ow0KICAgICAgICAgICAgICAgIHRoaXMuXzwlPW5OYW1lKGVhKSU+X2Nvb3AgPSBjb29wOw0KICAgICAgICANCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl88JT1uTmFtZShlYSklPjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIDwlIH0pJT4NCg0KICAgIDwlIGMuVHlwZWRBdHRyaWJ1dGVzLmZvckVhY2godGEgPT4geyBsZXQgdGFOYW1lID0gbk5hbWUodGEpICsgJ18nICsgdGEuRW50aXR5Q2xhc3MuUGx1cmFsLnJlcGxhY2UoLyAvZywgJ18nKTslPg0KICAgICAgICAvKioqKioqKioqKioqKiA8JT1uTmFtZShjKSU+LjwlPXRhTmFtZSU+IEdFVFRFUlMgQU5EIFNFVFRFUlMgKioqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgICAgPCU9bU5hbWU9dGFOYW1lJT4odiwgY29vcCl7DQogICAgICAgICAgICBpZih0eXBlb2YodikhPT0ndW5kZWZpbmVkJyl7DQogICAgICAgICAgICAgICAgdGhpcy5fPCU9dGFOYW1lJT4gPSAhQXJyYXkuaXNBcnJheSh2KT9bdl06djsNCiAgICAgICAgICAgICAgICB0aGlzLl88JT10YU5hbWUlPl9jb29wID0gY29vcDsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl88JT10YU5hbWUlPjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIDwlIH0pJT4NCg0KICAgIDwlIGMuRW50aXR5RmllbGRzLmZvckVhY2goZWYgPT4geyU+DQogICAgICAgIC8qKioqKioqKioqKioqIDwlPW5OYW1lKGMpJT4uPCU9bkNvZGUoZWYpJT4gRUY6IEdFVFRFUlMgQU5EIFNFVFRFUlMgKioqKioqKioqKioqKioqKioqKioqKi8NCiAgICAgICAgPCU9bU5hbWU9bkNvZGUoZWYpJT4oKXsNCiAgICAgICAgICAgIHJldHVybiAvKnRoaXMuZWZfPCU9bkNvZGUoZWYpJT4gPSAqLzwldmFsdWVPZihlZi5WYWx1ZSklPjsNCiAgICAgICAgfQ0KICAgIDwlIH0pJT4NCiAgICANCiAgICAgICAgPCU9bU5hbWU9J19pbnZva2UnJT4obWV0aG9kLCBwYXlsb2FkKXsNCiAgICAgICAgICAgIGlmKCFtZXRob2QpIHJldHVybiBudWxsOw0KICAgICAgICAgICAgaWYodHlwZW9mKHBheWxvYWQpPT09J3N0cmluZycpIHJldHVybiB0aGlzLjwlPW1OYW1lJT4obWV0aG9kLCBKU09OLnBhcnNlKHBheWxvYWQpKTsNCiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHJldHVybiBwYXlsb2FkLm1hcChwID0+IHRoaXMuPCU9bU5hbWUlPihtZXRob2QsIHApKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgPCU9bG9nKCdtZXRob2QnKSU+DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuX2Zyb21Eb2N1bWVudChwYXlsb2FkKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc3dpdGNoKG1ldGhvZCl7DQogICAgPCUgY3J1ZE1ldGhvZHMoYywgJ1NOT1cnKS5jb25jYXQoYy5FbnRpdHlNZXRob2RzKS5maWx0ZXIobSA9PiAhbS5Jc1ByaXZhdGUpLmZvckVhY2gobSA9PiB7JT4NCiAgICAgICAgICAgICAgICBjYXNlICI8JT1uTmFtZShtKSU+Ijogew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy48JT1uTmFtZShtKSU+KDwlIG0uTWV0aG9kUGFyYW1ldGVycy5mb3JFYWNoKG1wID0+IHslPnBheWxvYWRbIjwlPW5OYW1lKG1wKSU+Il0sPCUgfSklPik7DQogICAgICAgICAgICAgICAgfQ0KICAgIDwlIH0pJT4NCiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7DQogICAgICAgICAgICAgICAgICAgIDwlPWxvZygpJT4iaW52YWxpZCBtZXRob2QgIiArIG1ldGhvZCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICA8JT1tTmFtZT0nX3RvRVF1ZXJ5JyU+KHNQYXRoKXsNCiAgICAgICAgICAgIHNQYXRoID0gc1BhdGggfHwgJyc7DQogICAgICAgICAgICBsZXQgcmV0ID0gPCU9X3N1cGVyKCdzUGF0aCcpJT4gfHwgJyc7DQogICAgICAgICAgICANCiAgICA8JSBjLkVudGl0eUF0dHJpYnV0ZXMuZmlsdGVyKGVhID0+ICFlYS5FbnRpdHlNZXRob2QgJiYgIWVhLkVudGl0eVR5cGUpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgICAgICBpZih0aGlzLl88JT1uTmFtZShlYSklPikgcmV0ICs9ICdeJyArIHNQYXRoICsgJzwlPW5Db2RlKGVhKSU+JyArICh0aGlzLl88JT1uTmFtZShlYSklPl9jb29wIHx8ICc9JykgKyB0aGlzLjwlPW5OYW1lKGVhKSU+KCk7DQogICAgPCUgfSklPg0KDQogICAgPCUgYy5FbnRpdHlBdHRyaWJ1dGVzLmZpbHRlcihlYSA9PiAhZWEuRW50aXR5TWV0aG9kICYmIGVhLkVudGl0eVR5cGUpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgICAgICBpZih0aGlzLl88JT1uTmFtZShlYSklPikgcmV0ICs9IC8qKHRoaXMuXzwlPW5OYW1lKGVhKSU+X2Nvb3AgfHwgJz0nKSArICovIHRoaXMuPCU9bk5hbWUoZWEpJT4oKS48JT1tTmFtZSU+KHNQYXRoICsgJzwlPW5Db2RlKGVhKSU+LicpOw0KICAgIDwlIH0pJT4NCg0KICAgIDwlIGMuVHlwZWRBdHRyaWJ1dGVzLmZvckVhY2godGEgPT4geyBsZXQgdGFOYW1lID0gbk5hbWUodGEpICsgJ18nICsgdGEuRW50aXR5Q2xhc3MuUGx1cmFsLnJlcGxhY2UoLyAvZywgJ18nKTslPg0KICAgICAgICAgICAgKHRoaXMuPCU9dGFOYW1lJT4oKSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbih0YSl7IHJldCArPSAnXlJMUVVFUlk8JT1uQ29kZSh0YS5FbnRpdHlDbGFzcyklPi48JT1uQ29kZSh0YSklPiw+PTEnICsgdGEuPCU9bU5hbWUlPigpICsgJ15FTkRSTFFVRVJZJzsgfSk7DQogICAgPCUgfSklPg0KICAgIA0KICAgICAgICAgICAgPCU9bG9nKCdyZXQnKSU+DQogICAgICAgICAgICByZXR1cm4gcmV0Ow0KICAgICAgICB9DQoNCiAgICAgICAgPCU9bU5hbWU9J19mcm9tRG9jdW1lbnQnJT4ob2JqKXsNCiAgICAgICAgICAgIGlmKCFvYmopIHJldHVybiB0aGlzOw0KICAgICAgICANCiAgICAgICAgICAgIDwlPV9zdXBlcignb2JqJyklPg0KICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgPCUgLypTdHJlYW0sIG9uY2UgbWFwcGVkLCBiZWNvbWVzIGVtcHR5LiBJdCBjYW5ub3QgYmUgZW1wdGllZCB0d2ljZSwgdGhpcyBhbmQgc3VwZXIuIGZvckVhY2ggaXMgYSB0ZXJtaW5hbCBmdW5jdGlvbiAqLyAlPg0KICAgICAgICAgICAgaWYodHlwZW9mKG9iai5pc1ZhbGlkUmVjb3JkKSE9PSdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLm5hbWU9PSJTdHJlYW0iKXsNCiAgICAgICAgICAgICAgICBsZXQgcmV0ID0gW107DQogICAgICAgICAgICAgICAgb2JqLmZvckVhY2goZnVuY3Rpb24obyl7IHJldC5wdXNoKG5ldyA8JT1hTmFtZShjKSU+KCkuPCU9bU5hbWUlPihvKSk7IH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmKHR5cGVvZihvYmopPT09J3N0cmluZycpew0KICAgICAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShvYmopOw0KICAgICAgICAgICAgICAgIH1jYXRjaChleCl7DQogICAgICAgICAgICAgICAgICAgIC8qPCU9bG9nKCklPiJzdHJpbmcgWyIrb2JqKyJdIGludG8gIiArIDwlPWlkRmllbGQoKSU+KTsqLw0KICAgICAgICAgICAgICAgICAgICBsZXQgX29iaiA9IHtfX2lkRmllbGQ6IDwlPWlkRmllbGQoKSU+fTsNCiAgICAgICAgICAgICAgICAgICAgX29ials8JT1pZEZpZWxkKCklPl0gPSBvYmo7DQogICAgICAgICAgICAgICAgICAgIG9iaiA9IF9vYmo7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLjwlPW1OYW1lJT4ob2JqKTsNCiAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZihvYmopPT09J29iamVjdCcpew0KICAgICAgICAgICAgICAgIGlmKHR5cGVvZihvYmouaXNWYWxpZFJlY29yZCk9PT0nZnVuY3Rpb24nKXsNCiAgICAgICAgICAgICAgICAgICAgaWYob2JqLmlzVmFsaWRSZWNvcmQoKSl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy48JT1tTmFtZSU+KHsNCiAgICA8JSBjLkVudGl0eUF0dHJpYnV0ZXMuZmlsdGVyKGVhID0+ICFlYS5FbnRpdHlNZXRob2QpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgICAgICAgICAgICAgICAgICA8JT1uQ29kZShlYSklPjogb2JqLmdldFZhbHVlKCI8JT1uQ29kZShlYSklPiIpLA0KICAgIDwlIH0pJT4NCiAgICAgICAgICAgICAgICAgICAgICAgIElkOiBvYmouZ2V0VmFsdWUoJ3N5c19pZCcpfSk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnF1ZXJ5KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JSZXQgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKG9iai5uZXh0KCkpIGdyUmV0LnB1c2godGhpcy48JT1tTmFtZSU+KG9iaikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLyo8JT1sb2coJ2dyUmV0JywgJ2dsaWRlIG9iamVjdHMnKSU+Ki8NCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnclJldDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKG9iai5fZnJvbURvY3VtZW50KXsNCiAgICAgICAgICAgICAgICAgICAgPCU9bG9nKCklPiJyZWR1bmRlbnQgY2FsbCIpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqOw0KICAgICAgICAgICAgICAgIH1lbHNlIGlmKEFycmF5LmlzQXJyYXkob2JqKSl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBuZXcgPCU9YU5hbWUoYyklPigpLjwlPW1OYW1lJT4obyl9KTsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eXBlb2Yob2JqLmNvbnN0cnVjdG9yKT09PSJmdW5jdGlvbiIpew0KICAgICAgICAgICAgICAgICAgICBpZihvYmouY29uc3RydWN0b3IubmFtZT09Ik9iamVjdCIpew0KDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLklkID0gPCU9aWQoJ29iaicpJT47DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIC8qPCU9bG9nKCdvYmonKSU+Ki8NCiAgICAgICAgICAgIA0KICAgIDwlIGMuRW50aXR5QXR0cmlidXRlcy5maWx0ZXIoZWEgPT4gIWVhLkVudGl0eU1ldGhvZCkuZm9yRWFjaChlYSA9PiB7JT4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZihvYmouPCU9bkNvZGUoZWEpJT4pIT09J3VuZGVmaW5lZCcpew0KICAgICAgICA8JSBpZihlYS5Jc1RleHQpeyU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy48JT1uTmFtZShlYSklPihTdHJpbmcoKGdzLmdldEN1cnJlbnRTY29wZU5hbWUoKT09J3JoaW5vLmdsb2JhbCc/R2xpZGVTdHJpbmdVdGlsOmdzKS5iYXNlNjREZWNvZGUob2JqLjwlPW5Db2RlKGVhKSU+KSkpOw0KICAgICAgICA8JSB9JT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLjwlPW5OYW1lKGVhKSU+KDwlaWYoZWEuRW50aXR5VHlwZSl7JT5uZXcgPCU9YU5hbWUoZWEuRW50aXR5VHlwZSklPigpLjwlPW1OYW1lJT4ob2JqLjwlPW5Db2RlKGVhKSU+KTwlfWVsc2V7JT5vYmouPCU9bkNvZGUoZWEpJT48JX0lPik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgPCUgfSklPg0KDQogICAgPCUgYy5UeXBlZEF0dHJpYnV0ZXMuZm9yRWFjaCh0YSA9PiB7IGxldCB0YU5hbWUgPSBuTmFtZSh0YSkgKyAnXycgKyB0YS5FbnRpdHlDbGFzcy5QbHVyYWwucmVwbGFjZSgvIC9nLCAnXycpOyU+DQogICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Yob2JqLjwlPXRhTmFtZSU+KSE9PSd1bmRlZmluZWQnKSB0aGlzLjwlPXRhTmFtZSU+KG5ldyA8JT1hTmFtZSh0YS5FbnRpdHlDbGFzcyklPigpLjwlPW1OYW1lJT4ob2JqLjwlPXRhTmFtZSU+KSk7DQogICAgPCUgfSklPg0KDQogICAgICAgICAgICAgICAgICAgIH1lbHNley8vIGlmKG9iai5jb25zdHJ1Y3Rvci5uYW1lPT0iPCU9bk5hbWUoYyklPiIpew0KICAgICAgICAgICAgICAgICAgICAgICAgPCU9bG9nKCklPiJ1bmtub3duIG9iamVjdCBjb25zdHJ1Y3RvcjogIiArIG9iai5jb25zdHJ1Y3Rvci5uYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICA8JT1sb2coJ29iaicsICd1bmtub3duIG9iamVjdCcpJT4NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgPCU9bG9nKCd0eXBlb2Yob2JqKScsICdpbnZhbGlkIG9iamVjdCcpJT4NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLyo8JT1sb2coJ3RoaXMuSWQnLCAnSWQnKSU+Ki8NCiAgICAgICAgICAgIC8qPCU9bG9nKCd0aGlzJyklPiovDQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfQ0KDQogICAgICAgIDwlPW1OYW1lPSdfbmV3JyU+KGMpew0KICAgICAgICAgICAgaWYoIWMpIGMgPSB0aGlzLl9fdHlwZTsNCiAgICAgICAgICAgIGlmKGMuaW5kZXhPZignPCU9YWxpYXMoKSU+XycpIT0wKSBjID0gKHs8JSBvU2NvcGUuRW50aXR5Q2xhc3Nlcy5mb3JFYWNoKF9jID0+IHslPjwlPW5OYW1lKF9jKSU+OiAiPCU9YU5hbWUoX2MpJT4iLDwlfSklPn0pW2NdOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyAoZ3MuZ2V0Q3VycmVudFNjb3BlTmFtZSgpPT0ncmhpbm8uZ2xvYmFsJz9nbG9iYWw6PCU9Y25mKGMsICdzY29wZScpJT4pW2NdKCk7DQogICAgICAgIH0NCg0KDQogICAgICAgIDwlPW1OYW1lPSdfdG9Eb2N1bWVudCclPihhckZpZWxkcyl7DQogICAgICAgIA0KICAgICAgICAgICAgbGV0IHJldCA9IDwlPV9zdXBlcignYXJGaWVsZHMnKSU+IHx8IHt9Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZih0eXBlb2YodGhpcy5JZCkhPT0ndW5kZWZpbmVkJykgcmV0LnN5c19pZCA9IHRoaXMuSWQ7DQoNCiAgICA8JSBjLkVudGl0eUF0dHJpYnV0ZXMuZmlsdGVyKGVhID0+ICFlYS5FbnRpdHlNZXRob2QpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgICAgICBpZih0eXBlb2YodGhpcy5fPCU9bk5hbWUoZWEpJT4pIT09J3VuZGVmaW5lZCcpew0KICAgICAgICAgICAgICAgIHJldC48JT1uQ29kZShlYSklPiA9IHRoaXMuPCU9bk5hbWUoZWEpJT4oKTsNCiAgICAgICAgPCUgaWYoZWEuRW50aXR5VHlwZSl7JT4NCiAgICAgICAgICAgICAgICBpZihyZXQuPCU9bkNvZGUoZWEpJT4pew0KICAgICAgICAgICAgICAgICAgICByZXQuPCU9bkNvZGUoZWEpJT4gPSByZXQuPCU9bkNvZGUoZWEpJT4uPCU9bU5hbWUlPigpOw0KICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YocmV0LjwlPW5Db2RlKGVhKSU+KT09PSdvYmplY3QnICYmICFPYmplY3Qua2V5cyhyZXQuPCU9bkNvZGUoZWEpJT4pLmxlbmd0aCkgcmV0LjwlPW5Db2RlKGVhKSU+ID0gbnVsbDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIDwlIH1lbHNlIGlmKGVhLklzVGV4dCl7JT4NCiAgICAgICAgICAgICAgICBpZih0eXBlb2YocmV0LjwlPW5Db2RlKGVhKSU+KT09PSdvYmplY3QnKSByZXQuPCU9bkNvZGUoZWEpJT4gPSAoZ3MuZ2V0Q3VycmVudFNjb3BlTmFtZSgpPT0ncmhpbm8uZ2xvYmFsJz9HbGlkZVN0cmluZ1V0aWw6Z3MpLmJhc2U2NEVuY29kZShKU09OLnN0cmluZ2lmeShyZXQuPCU9bkNvZGUoZWEpJT4pKTsNCiAgICAgICAgPCUgfWVsc2UgaWYoZWEuSXNEYXRlKXslPg0KICAgICAgICAgICAgICAgIGlmKHJldC48JT1uQ29kZShlYSklPiAmJiB0eXBlb2YocmV0LjwlPW5Db2RlKGVhKSU+LnRvSVNPU3RyaW5nKT09PSdmdW5jdGlvbicpIHJldC48JT1uQ29kZShlYSklPiA9IHJldC48JT1uQ29kZShlYSklPi50b0lTT1N0cmluZygpLnJlcGxhY2UoJy4wMDBaJywgJ1onKTsNCiAgICAgICAgPCUgfSU+DQogICAgICAgIA0KICAgICAgICA8JSBpZihlYS5Jc0FycmF5KXslPg0KICAgICAgICAgICAgICAgIGlmKHR5cGVvZihyZXQuPCU9bkNvZGUoZWEpJT4pPT09J3VuZGVmaW5lZCcpew0KICAgICAgICAgICAgICAgICAgICByZXQuPCU9bkNvZGUoZWEpJT4gPSBbXTsNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZighQXJyYXkuaXNBcnJheShyZXQuPCU9bkNvZGUoZWEpJT4pKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0LjwlPW5Db2RlKGVhKSU+ID0gcmV0LjwlPW5Db2RlKGVhKSU+P1tyZXQuPCU9bkNvZGUoZWEpJT5dOltdOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgPCUgfSU+DQogICAgICAgICAgICB9DQogICAgPCUgfSklPg0KICAgICAgICANCiAgICA8JSBjLlR5cGVkQXR0cmlidXRlcy5mb3JFYWNoKHRhID0+IHsgbGV0IHRhTmFtZSA9IG5OYW1lKHRhKSArICdfJyArIHRhLkVudGl0eUNsYXNzLlBsdXJhbC5yZXBsYWNlKC8gL2csICdfJyk7JT4NCiAgICAgICAgICAgIGlmKHR5cGVvZih0aGlzLjwlPXRhTmFtZSU+KCkpIT09J3VuZGVmaW5lZCcpIHJldC48JT10YU5hbWUlPiA9IHRoaXMuPCU9dGFOYW1lJT4oKS5tYXAoZnVuY3Rpb24odGEpe3JldHVybiB0YS48JT1tTmFtZSU+KCk7fSk7DQogICAgPCUgfSklPg0KDQogICAgPCUgYy5FbnRpdHlGaWVsZHMuZm9yRWFjaChlZiA9PiB7JT4NCiAgICAgICAgICAgIGlmKHR5cGVvZih0aGlzLjwlPW5Db2RlKGVmKSU+KCkpIT09J3VuZGVmaW5lZCcpIHJldC48JT1uQ29kZShlZiklPiA9IHRoaXMuPCU9bkNvZGUoZWYpJT4oKTsNCiAgICA8JSB9KSU+DQoNCiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkoYXJGaWVsZHMpKSBPYmplY3Qua2V5cyhyZXQpLmZpbHRlcihmdW5jdGlvbihrKXtyZXR1cm4gIWFyRmllbGRzLmZpbmQoZnVuY3Rpb24oX2spe3JldHVybiBfaz09azt9KTt9KS5mb3JFYWNoKGZ1bmN0aW9uKGspew0KICAgICAgICAgICAgICAgIGRlbGV0ZSByZXRba107DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIHJldDsNCiAgICAgICAgfQ0KDQogICAgICAgIDwlPW1OYW1lPSdfdW5pcXVlJyU+KGtleXMsIHJldCl7DQogICAgICAgICAgICByZXQgPSByZXQgfHwgbmV3IDwlPWFOYW1lKGMpJT4oKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgPCU9X3N1cGVyKCdrZXlzJywgJ3JldCcpJT4NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gaWYodGhpcy5JZCkgcmV0LklkID0gdGhpcy5JZDsNCiAgICAgICAgICAgIGlmKCFrZXlzKXsNCiAgICA8JSBjLkVudGl0eUF0dHJpYnV0ZXMuZmlsdGVyKGVhID0+ICFlYS5FbnRpdHlNZXRob2QgJiYgZWEuSXNVbmlxdWUpLmZvckVhY2goZWEgPT4geyU+DQogICAgICAgICAgICAgICAgaWYodHlwZW9mKHRoaXMuPCU9bk5hbWUoZWEpJT4oKSkhPT0ndW5kZWZpbmVkJykgcmV0LjwlPW5OYW1lKGVhKSU+KHRoaXMuPCU9bk5hbWUoZWEpJT4oKTwlaWYoZWEuRW50aXR5VHlwZSl7JT4uPCU9bU5hbWUlPigpPCV9JT4pOw0KICAgIDwlIH0pJT4NCiAgICAgICAgICAgIH1lbHNlew0KICAgIDwlIGMuRW50aXR5QXR0cmlidXRlcy5maWx0ZXIoZWEgPT4gIWVhLkVudGl0eU1ldGhvZCkuZm9yRWFjaChlYSA9PiB7JT4NCiAgICAgICAgICAgICAgICBpZihrZXlzLmluZGV4T2YoIjwlPW5Db2RlKGVhKSU+Iik+PTAgJiYgdHlwZW9mKHRoaXMuPCU9bk5hbWUoZWEpJT4oKSkhPT0ndW5kZWZpbmVkJykgcmV0LjwlPW5OYW1lKGVhKSU+KHRoaXMuPCU9bk5hbWUoZWEpJT4oKTwlaWYoZWEuRW50aXR5VHlwZSl7JT4uPCU9bU5hbWUlPigpPCV9JT4pOw0KICAgIDwlIH0pJT4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIHJldDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgPCU9bU5hbWU9J19xdWVyeSclPihncSl7DQogICAgICAgICAgICBsZXQgYXJGaWVsZHMgPSA8JT1maWVsZHMlPjsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYoIXRoaXMuX3F1ZXJ5R1EpIHRoaXMuX3F1ZXJ5R1EgPSBuZXcgZ2xvYmFsLkdsaWRlUXVlcnkoPCU9dGFibGUlPik7DQoNCiAgICAgICAgICAgIDwlPV9zdXBlcignZ3EnKSU+DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxldCBpZGYgPSA8JT1pZEZpZWxkKCklPjsNCiAgICAgICAgICAgIGlmKGlkZj09J0lkJykgaWRmID0gJ3N5c19pZCc7DQogICAgICAgICAgICBpZih0eXBlb2YodGhpcy5JZCkhPT0ndW5kZWZpbmVkJykgdGhpcy5fcXVlcnlHUSA9IHRoaXMuX3F1ZXJ5R1Eud2hlcmUoaWRmLCAnPScsIHRoaXMuSWQpOw0KICAgICAgICAgICAgDQogICAgPCUgYy5FbnRpdHlBdHRyaWJ1dGVzLmZpbHRlcihlYSA9PiAhZWEuRW50aXR5TWV0aG9kKS5mb3JFYWNoKGVhID0+IHslPg0KICAgICAgICAgICAgaWYodHlwZW9mKHRoaXMuXzwlPW5OYW1lKGVhKSU+KSE9PSd1bmRlZmluZWQnKXsNCiAgICAgICAgICAgICAgICBsZXQgY29vcCA9IHRoaXMuXzwlPW5OYW1lKGVhKSU+X2Nvb3AgfHwgJz0nOw0KICAgICAgICA8JWlmKGVhLklzU3RyaW5nIHx8IGVhLklzVGV4dCl7JT4NCiAgICAgICAgICAgICAgICBpZighdGhpcy5fPCU9bk5hbWUoZWEpJT5fY29vcCkgY29vcCA9ICdTVEFSVFNXSVRIJzsNCiAgICAgICAgPCUgfSU+DQogICAgICAgICAgICAgICAgbGV0IHYgPSB0aGlzLjwlPW5OYW1lKGVhKSU+KCk7DQogICAgICAgIDwlaWYoZWEuRW50aXR5VHlwZSl7JT4NCiAgICAgICAgICAgICAgICBpZih2KXsNCiAgICAgICAgICAgICAgICAgICAgdiA9IHYuZmluZEFsbCgpOw0KICAgICAgICAgICAgICAgICAgICBpZih2Lmxlbmd0aD09MSl7DQogICAgICAgICAgICAgICAgICAgICAgICAvKmlmKCI8JT1jLk5hbWUlPiI9PSJDb2x1bW4iKSA8JT1sb2coJ3ZbMF0uX3RvRG9jdW1lbnQoKScsIGVhLk5hbWUpJT4gKi8NCiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSA8JT1pZCgndlswXScpJT47DQogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKCF2Lmxlbmd0aCl7DQogICAgICAgICAgICAgICAgICAgICAgICB2ID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBjb29wID0gJ0lOJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSB2Lm1hcChmdW5jdGlvbihyKXtyZXR1cm4gPCU9aWQoJ3InKSU+O30pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYodHlwZW9mKHYpPT09J3VuZGVmaW5lZCcpew0KICAgICAgICAgICAgICAgICAgICB2ID0gLTE7DQogICAgICAgICAgICAgICAgICAgIDwlPWxvZygpJT4iPCU9bk5hbWUoZWEpJT5bPCU9bkNvZGUoZWEpJT5dIHJlc3VsZWQgaW4gdW5kZWZpbmVkOiAiICsgSlNPTi5zdHJpbmdpZnkodGhpcy48JT1uTmFtZShlYSklPigpKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICA8JX1lbHNlIGlmKGVhLklzRGF0ZSl7JT4NCiAgICAgICAgICAgICAgICBpZih2KXsNCiAgICAgICAgICAgICAgICAgICAgdiA9IG5ldyBHbGlkZURhdGVUaW1lKHYudG9KU09OKCkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgPCV9JT4NCiAgICAgICAgDQogICAgICAgICAgICAgICAgaWYoYXJGaWVsZHMuaW5kZXhPZignPCU9bkNvZGUoZWEpLnRvTG93ZXJDYXNlKCklPicpPj0wKXsNCiAgICAgICAgICAgICAgICAgICAgLyogPCU9bG9nKCd0aGlzJyklPiAqLw0KICAgICAgICAgICAgICAgICAgICBpZih2PT1udWxsICYmIGNvb3A9PSc9Jyl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeUdRID0gdGhpcy5fcXVlcnlHUS53aGVyZU51bGwoJzwlPW5Db2RlKGVhKS50b0xvd2VyQ2FzZSgpJT4nKTsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodj09bnVsbCAmJiBjb29wPT0nIT0nKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXJ5R1EgPSB0aGlzLl9xdWVyeUdRLndoZXJlTm9OdWxsKCc8JT1uQ29kZShlYSkudG9Mb3dlckNhc2UoKSU+Jyk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVlcnlHUSA9IHRoaXMuX3F1ZXJ5R1Eud2hlcmUoJzwlPW5Db2RlKGVhKS50b0xvd2VyQ2FzZSgpJT4nLCBjb29wLCB2KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICA8JSB9KSU+DQoNCiAgICAgICAgICAgIGlmKCF0aGlzLl9xdWVyeUdRLnBsYW4ubGVuZ3RoKSB0aGlzLl9xdWVyeUdRLndoZXJlTnVsbChpZGYpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvKiA8JT1sb2coJ3RoaXMuX3F1ZXJ5R1EudG9HbGlkZVJlY29yZCgpLmdldEVuY29kZWRRdWVyeSgpJyklPiAqLw0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXJ5R1E7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgPCU9bU5hbWU9J19zYXZlJyU+KG9iail7DQogICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KG9iaikpIHJldHVybiBvYmoubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBuZXcgPCU9YU5hbWUoYyklPigpLjwlPW1OYW1lJT4obyl9KTsNCg0KICAgICAgICAgICAgbGV0IF9vYmogPSB7fTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLyo8JT1sb2coJ29iaicsICcuLi4nKSU+Ki8NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqKS5maWx0ZXIoZnVuY3Rpb24oayl7cmV0dXJuIDwlPWZpZWxkcyU+LmZpbHRlcihmdW5jdGlvbihfayl7cmV0dXJuIHRydWUgfHwgWydzeXNfdXBkYXRlZF9vbicsICdzeXNfY3JlYXRlZF9vbicsICd1cGRhdGVzJywgJ3N5c19jcmVhdGVkX2J5JywgJ3N5c191cGRhdGVkX2J5J10uaW5kZXhPZihfayk8MH0pLmluZGV4T2Yoay50b0xvd2VyQ2FzZSgpKT49MH0pLmZvckVhY2goZnVuY3Rpb24oayl7X29ialtrLnRvTG93ZXJDYXNlKCldPW9ialtrXX0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBPYmplY3Qua2V5cyhfb2JqKS5mb3JFYWNoKGZ1bmN0aW9uKGspew0KICAgICAgICAgICAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChfb2JqW2tdKSA9PT0gIltvYmplY3QgRGF0ZV0iICYmIGlzTmFOKF9vYmpba10pKXsNCiAgICAgICAgICAgICAgICAgICAgPCU9bG9nKCdrJywgJ2ludmFsaWQgZGF0ZScpJT4NCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9vYmpba107DQogICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZW9mKF9vYmpba10pPT09J29iamVjdCcgJiYgX29ialtrXSAmJiBfb2JqW2tdLnN5c19pZCl7DQogICAgICAgICAgICAgICAgICAgIDwlPWxvZygnaycsICdzeXNfaWQgdG8gc3RyaW5nJyklPg0KICAgICAgICAgICAgICAgICAgICBfb2JqW2tdID0gX29ialtrXS5zeXNfaWQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxldCBfdGhpcyA9IG51bGw7DQogICAgICAgICAgICBpZihvYmouX19rZXlzKXsNCiAgICAgICAgICAgICAgICBsZXQga09iaiA9IHt9Ow0KICAgICAgICAgICAgICAgIGtPYmpbPCU9aWRGaWVsZCgnX29iaicpJT5dID0gPCU9aWQoJ19vYmonKSU+Ow0KICAgICAgICAgICAgICAgIG9iai5fX2tleXMuZm9yRWFjaChmdW5jdGlvbihrKXtrT2JqW2tdID0gX29ialtrXX0pOw0KICAgICAgICAgICAgICAgIF90aGlzID0gbmV3IDwlPWFOYW1lKGMpJT4oKS5fZnJvbURvY3VtZW50KGtPYmopOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgX3RoaXMgPSBuZXcgPCU9YU5hbWUoYyklPigpLl9mcm9tRG9jdW1lbnQoX29iaikuX3VuaXF1ZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvKjwlPWxvZygpJT4iX3RoaXMuSWQ9IiArIF90aGlzLklkICsgIiwgX3RoaXMuZmluZCgpLklkOiAiICsgX3RoaXMuZmluZCgpLklkKTsqLw0KICAgICAgICAgICAgDQogICAgICAgICAgICBfb2JqLnN5c19pZCA9IChfdGhpcy5maW5kKCkgfHwgdGhpcyB8fCB7fSkuSWQgfHwgX29iai5zeXNfaWQ7DQogICAgICAgICAgICBkZWxldGUgX29iai5fX2lkRmllbGQ7DQoNCiAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICA8JT1sb2coJ19vYmouc3lzX2lkJyklPg0KDQogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoX29iaikuZmlsdGVyKGZ1bmN0aW9uKGspe3JldHVybiBrLnRvTG93ZXJDYXNlKCkhPWs7fSkuZm9yRWFjaChmdW5jdGlvbihrKXsNCiAgICAgICAgICAgICAgICAgICAgPCU9bG9nKCdrJywgJ3JlbmFtaW5nJyklPg0KICAgICAgICAgICAgICAgICAgICB2YXIgbGsgPSBrLnRvTG93ZXJDYXNlKCk7DQogICAgICAgICAgICAgICAgICAgIF9vYmpbbGtdID0gX29ialtrXTsNCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9vYmpba107DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgbGV0IGdxID0gbmV3IGdsb2JhbC5HbGlkZVF1ZXJ5KG9iai5fX3R5cGUgfHwgPCU9dGFibGUlPik7DQogICAgICAgICAgICAgICAgLyo8JT1sb2coJ19vYmonLCAndXBzZXJ0aW5nLi4uJyklPiovDQogICAgICAgICAgICAgICAgaWYoX29iai5zeXNfaWQpew0KICAgICAgICAgICAgICAgICAgICBncSA9IGdxLndoZXJlKCdzeXNfaWQnLCBfb2JqLnN5c19pZCkudXBkYXRlKF9vYmopOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBfb2JqLnN5c19pZCA9IGdzLmdlbmVyYXRlR1VJRCgpOw0KICAgICAgICAgICAgICAgICAgICBncSA9IGdxLmluc2VydChfb2JqKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbGV0IF9mT2JqID0ge307DQogICAgICAgICAgICAgICAgX2ZPYmpbPCU9aWRGaWVsZCgnb2JqJyklPl0gPSA8JT1pZCgnb2JqJyklPjsNCiAgICAgICAgICAgICAgICB0aGlzLl9mcm9tRG9jdW1lbnQoX29iaiA9IE9iamVjdC5hc3NpZ24oX2ZPYmosIGdxLmdldCg8JT1maWVsZHMlPikpKTsNCiAgICAgICAgICAgIH1jYXRjaChleCl7DQogICAgICAgICAgICAgICAgPCU9bG9nKCdleCcsICdFeGNlcHRpb24nKSU+DQogICAgICAgICAgICAgICAgPCU9bG9nKCdfb2JqJywgJ0V4Y2VwdGlvbicpJT4NCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgICAgIH0NCg0KICAgIDwlIGMuVHlwZWRBdHRyaWJ1dGVzLmZvckVhY2godGEgPT4geyBsZXQgdGFOYW1lID0gbk5hbWUodGEpICsgJ18nICsgdGEuRW50aXR5Q2xhc3MuUGx1cmFsLnJlcGxhY2UoLyAvZywgJ18nKTslPg0KICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShvYmouPCU9dGFOYW1lJT4pKSB0aGlzLjwlPXRhTmFtZSU+KG9iai48JT10YU5hbWUlPi5tYXAoZnVuY3Rpb24odGEpe3JldHVybiBuZXcgPCU9YU5hbWUodGEuRW50aXR5Q2xhc3MpJT4oKS48JT1tTmFtZSU+KHRhKX0pKTsNCiAgICA8JSB9KSU+DQoNCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9DQoNCiAgICA8JSBjcnVkTWV0aG9kcyhjLCAnU05PVycpLmNvbmNhdChjLkVudGl0eU1ldGhvZHMpLmZpbHRlcihtID0+ICFtLklzUHJpdmF0ZSkuZm9yRWFjaChtID0+IHslPg0KICAgICAgICAvKioqKioqKioqKioqKiA8JT1uTmFtZShjKSU+LjwlPW5OYW1lKG0pJT4oKSAqKioqKioqKioqKioqKioqKioqKioqLw0KICAgICAgICA8JT1tTmFtZT1uTmFtZShtKSU+KF9fZXZlbnQ8JT1tLk1ldGhvZFBhcmFtZXRlcnMubWFwKHAgPT4gJywgJytuTmFtZShwKSkuam9pbignJyklPil7DQogICAgICAgICAgICBsZXQgbG9nID0gZnVuY3Rpb24obG9nT2JqKXsNCiAgICAgICAgICAgICAgICA8JT1sb2coJ2xvZ09iaicpJT4NCiAgICAgICAgICAgIH07DQogICAgICAgIA0KICAgICAgICAgICAgbGV0IGFuc3dlciA9IHVuZGVmaW5lZDsNCg0KICAgICAgICAgICAgbGV0IG5vZGUgPSA8JWlmKG5jKXslPm5ldyA8JT1hTmFtZShuYyklPigpLmNvZGUoZ3MuZ2V0UHJvcGVydHkoJ2luc3RhbmNlX25hbWUnKSk8JX1lbHNleyU+bnVsbDwlfSU+Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgX19yZXNwb25zZSA9IDwlaWYobmMpeyU+bmV3IDwlPWFOYW1lKGVjKSU+KCkuY29kZSgnWycrbm9kZS5jb2RlKCkrJ0AnK25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCcuMDAwWicsICdaJykrJ10uPCU9bk5hbWUoYyklPi48JT1uTmFtZShtKSU+KCknKS5hY3RpdmUodHJ1ZSkuZW5hYmxlZCh0cnVlKS5kYXRlKG5ldyBEYXRlKCkpLm1ldGhvZCgnPCU9bk5hbWUobSklPicpLmNsYXNzTmFtZSgnPCU9bk5hbWUoYyklPicpLmNhcnJpZXIobm9kZSkuc2VuZGVyKG5vZGUpPCV9ZWxzZXslPm51bGw8JX0lPjsNCg0KICAgICAgICAgICAgbGV0IGV2SlNPTiA9IG51bGw7DQogICAgICAgICAgICBpZihfX2V2ZW50KXsNCiAgICAgICAgICAgICAgICBldkpTT04gPSBKU09OLnBhcnNlKF9fZXZlbnQucGF5bG9hZCgpKTsNCiAgICAgICAgICAgICAgICBpZih0eXBlb2YoZXZKU09OLl9fdGhpcykhPT0ndW5kZWZpbmVkJyl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zyb21Eb2N1bWVudChldkpTT04uX190aGlzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIDwlIG0uTWV0aG9kUGFyYW1ldGVycy5mb3JFYWNoKHAgPT4geyU+DQogICAgICAgICAgICAgICAgaWYodHlwZW9mKGV2SlNPTi48JT1uTmFtZShwKSU+KSE9PSd1bmRlZmluZWQnKXsNCiAgICAgICAgICAgICAgICAgICAgPCU9bk5hbWUocCklPiA9IGV2SlNPTi48JT1uTmFtZShwKSU+Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgPCUgfSklPg0KICAgICAgICAgICAgICAgIGlmKF9fcmVzcG9uc2UpIF9fcmVzcG9uc2UucmVjaXBpZW50KF9fZXZlbnQuc2VuZGVyKCkuX3VuaXF1ZSgpKS5yZXNwb25zZVRvKF9fZXZlbnQuX3VuaXF1ZSgpKTsNCiAgICAgICAgDQogICAgICAgIDwlPShtLk1ldGhvZFJ1bGVzIHx8IFtdKS5jb25jYXQoKGMuRW50aXR5UnVsZXMgfHwgW10pLmZpbHRlcihyID0+IHJbbk5hbWUobSldKSkuZmlsdGVyKHIgPT4gci5TdGFydCkubWFwKHIgPT4gci5TblNjcmlwdCklPg0KDQogICAgICAgICAgICAgICAgaWYoIV9fZXZlbnQucmVzcG9uc2VUbygpKXsNCiAgICAgICAgICAgICAgICAgICAgPCU9bG9nKCklPiIgaGFuZGxpbmcgZXZlbnRbIitfX2V2ZW50LmNvZGUoKSsiXSIpOw0KICAgICAgICA8JSAobS5NZXRob2RSdWxlcyB8fCBbXSkuY29uY2F0KChjLkVudGl0eVJ1bGVzIHx8IFtdKS5maWx0ZXIociA9PiByW25OYW1lKG0pXSkpLmZpbHRlcihyID0+IHIuQmVmb3JlKS5mb3JFYWNoKHIgPT4geyU+PCU9ci5TblNjcmlwdCU+PCUgfSklPg0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICA8JT1sb2coKSU+ImEgcmVzcG9uc2UgdG8gbXkgZXZlbnQoIitfX2V2ZW50LnJlc3BvbnNlVG8oKS5jb2RlKCkrIikgWyIgKyBfX2V2ZW50LmNsYXNzTmFtZSgpICsgIigpLiIgKyBfX2V2ZW50Lm1ldGhvZCgpICsgIigpXSIpOw0KICAgICAgICA8JSBpZihtLlJlc3BvbnNlQXR0cmlidXRlLkVudGl0eVR5cGUpeyU+DQogICAgICAgICAgICAgICAgICAgIGFuc3dlciA9IHRoaXMuX25ldygpLl9mcm9tRG9jdW1lbnQoZXZKU09OKTsNCiAgICAgICAgPCUgfWVsc2V7JT4NCiAgICAgICAgICAgICAgICAgICAgYW5zd2VyID0gZXZKU09OOw0KICAgICAgICA8JSB9JT4NCg0KICAgICAgICA8JSAobS5NZXRob2RSdWxlcyB8fCBbXSkuY29uY2F0KChjLkVudGl0eVJ1bGVzIHx8IFtdKS5maWx0ZXIociA9PiByW25OYW1lKG0pXSkpLmZpbHRlcihyID0+IHIuQWZ0ZXIpLmZvckVhY2gociA9PiB7JT48JT1yLlNuU2NyaXB0JT48JSB9KSU+DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgPCU9bG9nKG51bGwsICdleGVjdXRpbmcgbG9jYWxseScpJT4NCg0KICAgICAgICA8JSBpZihtTmFtZT09J3N0b3JlJyl7JT4NCiAgICAgICAgICAgICAgICAvLyBzdG9yZSBsb2NhbGx5DQogICAgICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcy5fdW5pcXVlKCkuZmluZCgpOw0KICAgICAgICAgICAgICAgIGlmKF90aGlzKSB0aGlzLklkID0gX3RoaXMuSWQ7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmUodGhpcy5fdG9Eb2N1bWVudCgpKTsNCiAgICAgICAgPCUgfWVsc2UgaWYobU5hbWU9PSdmaW5kJyl7JT4NCiAgICAgICAgICAgICAgICBsZXQgcmV0ID0gdGhpcy5maW5kQWxsKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJldC5sZW5ndGg/cmV0WzBdOm51bGw7DQogICAgICAgIDwlIH1lbHNlIGlmKG1OYW1lPT0nZmluZEFsbCcpeyU+DQogICAgICAgICAgICAgICAgLy8gZmluZEFsbCBsb2NhbGx5DQogICAgICAgICAgICAgICAgbGV0IGdyID0gbmV3IEdsaWRlUmVjb3JkKCI8JT1uQ29kZShjKSU+Iik7DQogICAgICAgICAgICAgICAgZ3IuYWRkRW5jb2RlZFF1ZXJ5KHRoaXMuX3RvRVF1ZXJ5KCkpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcm9tRG9jdW1lbnQoZ3IpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vcmV0dXJuIHRoaXMuX2Zyb21Eb2N1bWVudCh0aGlzLl9xdWVyeSgpLnNlbGVjdCg8JT1maWVsZHMlPikpOw0KICAgICAgICA8JSB9JT4NCg0KICAgICAgICA8JT1tLlNuU2NyaXB0JT4NCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgIDwlIChtLk1ldGhvZFJ1bGVzIHx8IFtdKS5jb25jYXQoKGMuRW50aXR5UnVsZXMgfHwgW10pLmZpbHRlcihyID0+IHJbbk5hbWUobSldKSkuZmlsdGVyKHIgPT4gci5FbmQpLmZvckVhY2gociA9PiB7JT48JT1yLlNuU2NyaXB0JT48JSB9KSU+DQoNCiAgICAgICAgICAgIGlmKF9fcmVzcG9uc2UgJiYgKCFfX2V2ZW50IHx8ICFfX2V2ZW50LnJlc3BvbnNlVG8oKSkpew0KICAgICAgICAgICAgICAgIGlmKGFuc3dlcil7DQogICAgICAgIDwlIGlmKG0uUmVzcG9uc2VBdHRyaWJ1dGUuRW50aXR5VHlwZSl7JT4NCiAgICAgICAgICAgICAgICAgICAgX19yZXNwb25zZS5wYXlsb2FkKGFuc3dlci5fdG9Eb2N1bWVudCgpKTsNCiAgICAgICAgPCUgfWVsc2V7JT4NCiAgICAgICAgICAgICAgICAgICAgX19yZXNwb25zZS5wYXlsb2FkKHN0cihhbnN3ZXIpKTsNCiAgICAgICAgPCUgfSU+DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIF9fcmVzcG9uc2UucGF5bG9hZCh7X190aGlzOiB0aGlzLl90b0RvY3VtZW50KCl9KTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgPCUgaWYoYy5OYW1lIT09J0V2ZW50JyB8fCBtLk5hbWUhPT0ndHJpZ2dlcicpeyU+DQogICAgICAgICAgICAgICAgX19yZXNwb25zZS50cmlnZ2VyKCk7DQogICAgICAgIDwlIH0lPg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gYW5zd2VyOw0KICAgICAgICB9DQogICAgPCUgfSklPg0KICAgIH0NCg0KICAgIGAsICdqYXZhc2NyaXB0JyksDQp9LA0KPCV9KSU+DQpd",
	"footer": "",
	"name": "SnMQTT",
	"script": "d2luZG93LlRlbXBsYXRlID0gY2xhc3MgZXh0ZW5kcyBfRnJFTUQuUHJveHlOb2RlVGVtcGxhdGUgewoJYXN5bmMgbWFpbigpIHsKCQl0aGlzLl90aGlzID0gbmV3IHRoaXMub1Njb3BlW3RoaXMub1Njb3BlLkVudGl0eUNsYXNzZXMuZmluZChjID0+IGMuSXNNYWluKS5OYW1lXShudWxsLCAnU05PV09PQicpOwoJfQoKCWFzeW5jIHBvc3RJbmplY3QocmV0KSB7CgkJbGV0IGpzb24gPSBhd2FpdCB0aGlzLl90aGlzLnJ1blNjcmlwdChyZXQuQm9keSk7CgkJbGV0IHN5c19pZCA9ICdmNDc5MjljMmMzYzFlYTUwZjhkODUzZjFiNDAxMzEzOCc7CgoJCWZhbHNlICYmIGNvbnNvbGUubG9nKGpzb25bMF0uc2NyaXB0LnJlcGxhY2UoL2NsYXNzIChcdyspIHsvZ20sICdnbG9iYWwuJDEgPSBDbGFzcy5jcmVhdGUoKTtcbmdsb2JhbC4kMS5wcm90b3R5cGUgPSAoeycpCgkJCS5yZXBsYWNlKC9cL1wqKFx3K1wucHJvdG90eXBlXC5cdysuY2FsbFwodGhpcyxccylcKlwvXHMqc3VwZXJcKC9nLCAnJDEnKQoJCQkucmVwbGFjZSgvXHQoKD8hZnVuY3Rpb25cYilcYlx3KylcKC9nbSwgJyxcdCQxOiBmdW5jdGlvbignKQoJCQkucmVwbGFjZSgvY2xhc3MgKFx3KykgZXh0ZW5kcyAoXHcrKSB7L2dtLCAnZ2xvYmFsLiQxID0gQ2xhc3MuY3JlYXRlKCk7XG5nbG9iYWwuJDEucHJvdG90eXBlID0gT2JqZWN0LmV4dGVuZHNPYmplY3QoZ2xvYmFsLiQyLCB7JykKCQkJLnJlcGxhY2UoL1x0KGNvbnN0cnVjdG9yKVwoL2dtLCAnXHRpbml0aWFsaXplOiBmdW5jdGlvbignKQoJCQkucmVwbGFjZSgvXHQobGV0KSAvZ20sICdcdHZhciAnKS5yZXBsYWNlKC9cdChcdyspIFw9L2dtLCAnXHQkMTogJykgKyAnKScpOwoKCQlpZiAoIXRoaXMuX25ldygnUXVldWUnKSkgewoJCQl0aGlzLl90aGlzLklkID0gc3lzX2lkOwoJCQlhd2FpdCB0aGlzLl90aGlzLl9yZXN0KCdlY2NfcXVldWUnLCBudWxsLCB7CgkJCQlwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShqc29uKSwKCQkJCXRvcGljOiAnQVBJU0VSVkVSJywKCQkJCWFnZW50OiAnR2VuZXJhdGVkIFNjcmlwdCcsCgkJCQluYW1lOiB0aGlzLnNjb3BlICsgJy5wcm94eScsCgkJCQlxdWV1ZTogJ2lucHV0JywKCQkJfSwgJ3B1dCcpOwoJCQkvL2NvbnNvbGUubG9nKCJqc29uIiwganNvbik7CgkJCXJldHVybjsKCQl9CgoJCWF3YWl0IHRoaXMuX25ldygnUXVldWUnLCAnU05PV09PQicsIHN5c19pZCkuY29kZSh0aGlzLnNjb3BlICsgJy5wcm94eScpLm5hbWUoJ0FQSVNFUlZFUicpLnJlbWFyayhqc29uLm1hcChjID0+IHRoaXMuX25ldygnU2NyaXB0IEZpbGUnLCAnU05PV09PQicpLl9mcm9tRG9jdW1lbnQoYywgdHJ1ZSkpLm1hcChjID0+IGMuX3RvSlNPTih7CgkJCWJNYXA6IHRydWUsCgkJCXBhcnNlOiB0cnVlCgkJfSkpKS51cGRhdGUoKTsKCX0KCglhTmFtZShjKSB7CgkJcmV0dXJuIHRoaXMuc2NvcGUgKyAnXycgKyAoYy5FbnRpdHlNb2R1bGUgPyAoKGMuRW50aXR5TW9kdWxlLkFsaWFzIHx8ICcnKS5zcGxpdCgnLicpLmpvaW4oJ18nKSArICdfJykgOiAnJykgKyB0aGlzLm5OYW1lKGMpOwoJfQoKCXNuVHlwZShlYSwgcCA9ICcnKSB7CgkJbGV0IHJldCA9ICcnOwoJCWlmIChlYS5FbnRpdHlUeXBlKSB7CgkJCXJldCA9IHRoaXMuYU5hbWUoZWEuRW50aXR5VHlwZSk7CgkJfSBlbHNlIGlmIChlYS5Jc1N0cmluZyB8fCBlYS5Jc1RleHQpIHsKCQkJcmV0ID0gJ3N0ZDo6c3RyaW5nJzsKCQl9IGVsc2UgaWYgKGVhLklzQm9vbCkgewoJCQlyZXQgPSAnYm9vbCc7CgkJfSBlbHNlIGlmIChlYS5Jc0xvbmcpIHsKCQkJcmV0ID0gJ2xvbmcnOwoJCX0gZWxzZSBpZiAoZWEuSXNJbnQpIHsKCQkJcmV0ID0gImludCI7CgkJfSBlbHNlIGlmIChlYS5Jc0Zsb2F0KSB7CgkJCXJldCA9ICdmbG9hdCc7CgkJfSBlbHNlIGlmIChlYS5Jc0RhdGUpIHsKCQkJcmV0ID0gInRpbWVfdCI7CgkJfSBlbHNlIGlmIChlYS5Jc0ltYWdlKSB7CgkJCXJldCA9ICJqYXZhLmF3dC5pbWFnZS5CdWZmZXJlZEltYWdlIjsKCQl9IGVsc2UgaWYgKGVhLklzT2JqZWN0KSB7CgkJCXJldCA9ICJqc29uIjsKCQl9IGVsc2UgewoJCQlyZXQgPSAnc3RkOjphbnknOwoJCX0KCgkJaWYgKGVhLklzQXJyYXkpIHsKCQkJcmV0ID0gJ3N0ZDo6dmVjdG9yPCcgKyByZXQgKyAnPicgKyBwOwoJCX0gZWxzZSBpZiAoZWEuRW50aXR5VHlwZSkgewoJCQlyZXQgKz0gcDsKCQl9CgkJcmV0dXJuIHJldDsKCX0KfTs=",
	"title": "",
	"dataLayer": null,
	"type": null,
	"__keys": ["name"],
	"active": true,
	"__trMap": []
}