var method_name = "ContentManager.cmsMethodResultFind";

var server_time = new Date(2019, 12-1, 9, 19, 44, 31);

var execution_time = 0.087164;

ret = new Object();
ret.ToString = "";
ret._ToString = "";
ret.Active = true;
ret.Code = "e8b31471-2ec0-4540-a361-7abaf784d0a6";
ret.Completed = new Date(2019, 12-1, 9, 19, 44, 26);
ret.Date = new Date(2019, 12-1, 9, 19, 43, 31);
ret.Order = 0;
ret.PostData = "";
ret.Query = "";
ret.Result = "var method_name = \"comGroupViewAggregation\";\r\n\r\nvar server_time = new Date(2019, 12-1, 9, 19, 44, 26);\r\n\r\nvar execution_time = 55.478677;\r\n\r\n\r\n\r\nret = [{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-01-01 00:00:00\",\"V0\":30375.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-01-01 00:00:00\",\"V0\":5.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-02-01 00:00:00\",\"V0\":0.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-02-01 00:00:00\",\"V0\":0.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-03-01 00:00:00\",\"V0\":0.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-03-01 00:00:00\",\"V0\":3.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-04-01 00:00:00\",\"V0\":0.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-04-01 00:00:00\",\"V0\":0.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-05-01 00:00:00\",\"V0\":689.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-05-01 00:00:00\",\"V0\":2212.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-06-01 00:00:00\",\"V0\":4795.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-06-01 00:00:00\",\"V0\":2556.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-07-01 00:00:00\",\"V0\":5647.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-07-01 00:00:00\",\"V0\":2795.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-08-01 00:00:00\",\"V0\":5410.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-08-01 00:00:00\",\"V0\":2996.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-09-01 00:00:00\",\"V0\":85475.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-09-01 00:00:00\",\"V0\":3056.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-10-01 00:00:00\",\"V0\":5458.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-10-01 00:00:00\",\"V0\":2884.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-11-01 00:00:00\",\"V0\":5215.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-11-01 00:00:00\",\"V0\":2743.0},{\"active\":1,\"code\":\"I\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"Internal\",\"order\":null,\"id\":2,\"groupid\":4,\"PARTITIONID\":\"2014-12-01 00:00:00\",\"V0\":5331.0},{\"active\":1,\"code\":\"E\",\"date\":\"0001-01-01T00:00:00\",\"name\":\"External\",\"order\":null,\"id\":14,\"groupid\":4,\"PARTITIONID\":\"2014-12-01 00:00:00\",\"V0\":2539.0}];";
ret.RunAfter = new Date(2019, 12-1, 9, 19, 43, 31);
ret.Id = 236;
ret.StoredMethodid = 2322;
ret.StoredMethod = new Object();
ret.StoredMethod.ToString = "comGroupViewAggregation";
ret.StoredMethod._ToString = "comGroupViewAggregation";
ret.StoredMethod.Active = true;
ret.StoredMethod.AlwaysCache = false;
ret.StoredMethod.AlwaysCompile = false;
ret.StoredMethod.AlwaysGenerate = false;
ret.StoredMethod.BodyCode = "if(id_values==null) id_values = new Identity[0];\nif(pi_values==null) pi_values = new PerformanceIdentity[0];\nif(pv_values==null) pv_values = new PerformanceValue[0];\nif(p_values==null) p_values = new Performance[0];\n\nif(partitionFields==null) partitionFields = new string[]{\"takenOn\"};\n\nSystem.Data.DataTable ret = new System.Data.DataTable();\ntry\n{\n    List<IDbTable> values = new List<IDbTable>();\n    values.AddRange(id_values);\n    values.AddRange(pi_values);\n    values.AddRange(pv_values);\n    values.AddRange(p_values);\n\n    List<string> fields = new List<string>();\n    for(int i=0; i<id_values.Length; i++) fields.Add(\"id\");\n    for(int i=0; i<pi_values.Length; i++) fields.Add(\"id\");\n    for(int i=0; i<pv_values.Length; i++) fields.Add(\"value\");\n    for(int i=0; i<p_values.Length; i++) fields.Add(\"id\");\n    //$_cmsDebug(\"values: \" + values.Count + \", fields: \" + fields.Count + \", keys: \" + keys.Length + \", aggs: \" + aggs.Length);\n\n    if(series.Length>0){\n        for(int i=0; i<series.Length; i++){\n            // series is an Object array. If it is a date, convert it\n            try{\n                series[i] = DateTime.Parse(series[i].ToString());\n            }catch{}\n        }\n        try{\n            Single.Parse(series[0].ToString());\n            if(partitionFields.Length==1 && partitionFields[0]==\"takenOn\"){\n                partitionFields[0]=\"value\";\n            }\n        }catch{}\n    }\n    \n    ret = User.groupView(keys, values.ToArray(), fields.ToArray(), aggs, Array.ConvertAll(series, d => (object)d), partitionFields, fieldFormatter, \"performanceid\", bTest);\n    $_cmsDebug(User.register(\"_VIEW_SQL\").ToString());\n}catch(Exception ex){\n    $_cmsDebug(\"comGroupViewAggregation: \" + ex.Message);\n}\nreturn ret;";
ret.StoredMethod.Name = "comGroupViewAggregation";
ret.StoredMethod.ObjectBytes = "";
ret.StoredMethod.ObjectCompiled = true;
ret.StoredMethod.ObjectReturn = false;
ret.StoredMethod.RegenerateAfter = new Date(2019, 12-1, 8, 9, 36, 52);
ret.StoredMethod.ReturnBytes = "";
ret.StoredMethod.ReturnCode = "<?=$_DataTableToJS_(oret)?>";
ret.StoredMethod.ReturnCompiled = true;
ret.StoredMethod.ReturnSchema = "System.Data.DataTable";
ret.StoredMethod.Signature = "Identity[] keys, Identity[] id_values, PerformanceIdentity[] pi_values, PerformanceValue[] pv_values, Performance[] p_values, Object[] series, string[] partitionFields, string[] aggs, string fieldFormatter, bool bTest";
ret.StoredMethod.Sql = "";
ret.StoredMethod.SqlMethod = false;
ret.StoredMethod.Id = 2322;
ret.StoredMethod.MethodLayers = new Array();
ret.StoredMethod.ValidatedLayers = new Array();
ret.StoredMethod.MethodResults = new Array();
ret.StoredMethod.JobSchedules = new Array();
ret.StoredMethod.MethodFiles = new Array();
ret.StoredMethod.MethodLibraries = new Array();
ret.StoredMethod.CompilationLogs = new Array();
ret.StoredMethod.DebugLogs = new Array();
ret.StoredMethod.StoredScripts = new Array();
ret.StoredMethod.MethodProperties = new Array();